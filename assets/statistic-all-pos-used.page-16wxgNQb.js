import{j as e,R as l,r as c,Q as m}from"./index-XwE6gQmn.js";import{R as _}from"./role-redirect.component-B-7d_oPr.js";import{u as h,D as p}from"./index-BsOMOp0z.js";import{E as g}from"./react-icons.esm-5SUvy-NO.js";import{B as n}from"./button-C4HOWXLM.js";import{D as x}from"./dialog-Cq2VxrqT.js";import{C as o}from"./cell-currency-D6tOSgAE.js";import{C as i}from"./cell-text-H3JibL2T.js";import{D as f}from"./dialog-button.component-msJRMg9P.js";import{L as y}from"./label-DhoCOihp.js";import{C as j}from"./cell-bank-ajtKXmsI.js";import{C as u}from"./cell-link-Dxt7hr8a.js";import{u as S}from"./use-get-vn-banks.query-F2BXTXzV.js";import{u as C}from"./useQuery-BXJOiSOe.js";import{a as P,H as V}from"./Helmet-DUuvCvTm.js";import"./use-auth.cache-CFuprbIQ.js";import"./Combination-WE48jzIv.js";import"./index-DWR91OCR.js";import"./index-CROUqNK7.js";import"./select-BLsJIQQv.js";import"./dropdown-menu-oMbE38VB.js";import"./index-Dwx9NaXw.js";import"./index-DrW2nO8L.js";import"./format-currency-DwwnROlR.js";import"./get-yes-no.util-C-N_EnQX.js";import"./index-CwCgg0f3.js";function b({row:r,vnBanks:t}){return e.jsx("div",{className:"grid sm:grid-cols-[200px_1fr] items-center gap-4 max-h-96 px-4 overflow-auto",children:r.getAllCells().map(s=>{let a=e.jsx(i,{children:s.getValue()});if(s.column.id!=="actions"){switch(s.column.id){case"id_pos_info":a=e.jsx(u,{to:l.STATISTICS_POS_USED.replace(":id",s.getValue()),children:s.getValue()});break;case"id_vietnamese_banks":a=e.jsx(j,{value:s.getValue(),vnBanks:t});break;case"tong_tien_chua_tru_phi":case"tong_tien_da_tru_phi":case"fee":a=e.jsx(o,{value:s.getValue()});break}return e.jsxs(c.Fragment,{children:[e.jsx(y,{className:"text-muted-foreground",children:s.column.columnDef.header}),e.jsx("div",{children:a})]},s.id)}})})}const k={tid:!0,pos_name:!0,total:!0,fee:!0,tong_tien_da_tru_phi:!0,tong_tien_chua_tru_phi:!0,tong_so_giao_dich_da_duoc_bank_tra_tien:!0,tong_so_giao_dich_chua_duoc_bank_tra_tien:!0,id_vietnamese_banks:!0,id_pos_info:!0},A=({vnBanks:r})=>[{accessorKey:"id_pos_info",header:"POS ID",enableHiding:!1,cell:t=>e.jsx(u,{to:l.STATISTICS_POS_USED.replace(":id",t.getValue()),children:t.getValue()})},{accessorKey:"tid",header:"TID",cell:t=>e.jsx(i,{children:t.getValue()})},{accessorKey:"pos_name",header:"POS Name",cell:t=>e.jsx(i,{children:t.getValue()})},{accessorKey:"tong_tien_chua_tru_phi",header:"Total Money",cell:t=>e.jsx(o,{value:t.getValue()})},{accessorKey:"fee",header:"Fee",cell:t=>e.jsx(o,{value:t.getValue()})},{accessorKey:"tong_tien_da_tru_phi",header:"Total Money (- Fee)",cell:t=>e.jsx(o,{value:t.getValue()})},{accessorKey:"total",header:"All Bank Payment",cell:t=>e.jsx(i,{children:t.getValue()})},{accessorKey:"tong_so_giao_dich_chua_duoc_bank_tra_tien",header:"Processing Bank Payment",cell:t=>e.jsx(i,{children:t.getValue()})},{accessorKey:"tong_so_giao_dich_da_duoc_bank_tra_tien",header:"Completed Bank Payment",cell:t=>e.jsx(i,{children:t.getValue()})},{accessorKey:"id_vietnamese_banks",header:"Bank Name",cell:t=>{var s;return e.jsx(i,{children:(s=r==null?void 0:r[t.getValue()])==null?void 0:s.short_name})}},{id:"actions",enableHiding:!1,cell:({row:t})=>e.jsx(f,{title:"Detail Info",description:"Detail info's statistic POS used.",trigger:e.jsx(n,{variant:"outline",size:"icon",children:e.jsx(g,{})}),actionButtons:e.jsx(x,{asChild:!0,children:e.jsx(n,{type:"button",variant:"secondary",children:"Close"})}),children:e.jsx(b,{row:t,vnBanks:r})})}];function D(){return P({url:"/statistics/Get_All_Pos_Used"})}function U(){const{data:r}=C({queryKey:m.ALL_POS_USED,queryFn:D,gcTime:1e4});return{allPosUsed:r==null?void 0:r.result}}function K(){const[r,t]=h("all-pos-used-columns",{defaultValue:k}),{allPosUsed:s}=U(),{vnBanksByKey:a}=S(),d=c.useMemo(()=>A({vnBanks:a}),[a]);return e.jsxs("div",{className:"space-y-6 px-4 py-4",children:[e.jsx("div",{className:"flex items-center flex-col lg:flex-row justify-between space-y-2",children:e.jsx("h2",{className:"text-2xl lg:text-3xl font-bold tracking-tight",children:"Statistic All POS Used"})}),e.jsx(p,{data:s,columns:d,columnVisibility:r,rowCount:s==null?void 0:s.length,onColumnVisibilityChange:t,hidePagination:!0})]})}function re(){return e.jsxs(_,{type:"admin",children:[e.jsx(V,{children:e.jsx("title",{children:"POS System - Statistic All POS Used"})}),e.jsx(K,{})]})}export{re as default};
