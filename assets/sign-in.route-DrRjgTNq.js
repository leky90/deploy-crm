import{j as e,B as p,ae as f,A as N,Q as b,at as x,P as h,au as y,R as r,a5 as E,aa as v,ab as U,ac as j,ad as T}from"./index-CpIRsMsc.js";import{z as n,u as D,t as P,I as l,F as m}from"./index-Bhnnc076.js";function k({children:s}){return e.jsxDEV("div",{className:"h-screen flex justify-center items-center",children:e.jsxDEV("main",{children:s},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/layouts/auth.layout.tsx",lineNumber:8,columnNumber:7},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/layouts/auth.layout.tsx",lineNumber:7,columnNumber:5},this)}function S(s){return p({url:"/user/login",method:"post",data:s})}function V(){const{mutateAsync:s}=f({mutationFn:S,onSuccess:i=>(N.setQueryData(b.AUTH_INFO,()=>i),i)});return{mutationSignIn:s}}const I=n.object({username:n.string().nonempty(),password:n.string().nonempty()});function w(){const s=x(),{mutationSignIn:i}=V(),{register:a,handleSubmit:t,formState:{errors:u}}=D({defaultValues:{username:"tomtom1",password:"Abc123456!@#"},resolver:P(I)}),o=async c=>{const d=await i(c);try{y(d.token).is_administrator?s(r.USERS):s(r.CUSTOMERS)}catch{s(r.SIGN_IN)}};return e.jsxDEV("form",{onSubmit:t(o),className:"space-y-4 w-80",autoComplete:"off",children:[e.jsxDEV("div",{children:[e.jsxDEV(l,{placeholder:"Username",...a("username")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:52,columnNumber:9},this),e.jsxDEV(m,{error:u.username},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:53,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:51,columnNumber:7},this),e.jsxDEV("div",{children:[e.jsxDEV(l,{type:"password",placeholder:"Password",...a("password")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:57,columnNumber:9},this),e.jsxDEV(m,{error:u.password},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:62,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:56,columnNumber:7},this),e.jsxDEV(h,{className:"w-full",children:"Submit"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:64,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:46,columnNumber:5},this)}function C(){return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(E,{children:e.jsxDEV("title",{children:"CRM - Sign In"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:9,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:8,columnNumber:7},this),e.jsxDEV(v,{children:[e.jsxDEV(U,{children:e.jsxDEV(j,{className:"text-center",children:"SIGN IN"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:13,columnNumber:11},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:12,columnNumber:9},this),e.jsxDEV(T,{children:e.jsxDEV(w,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:16,columnNumber:11},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:15,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:11,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:7,columnNumber:5},this)}function A(){return e.jsxDEV(k,{children:e.jsxDEV(C,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/routes/sign-in.route.tsx",lineNumber:7,columnNumber:7},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/routes/sign-in.route.tsx",lineNumber:6,columnNumber:5},this)}export{A as default};
