import{j as e,Q as f,k as y,r as p,D as d}from"./index-XwE6gQmn.js";import{a as j,H as C}from"./Helmet-DUuvCvTm.js";import{R as h}from"./role-redirect.component-B-7d_oPr.js";import{u as k,D as S}from"./index-BsOMOp0z.js";import{S as a,g as P,a as v,f as g,D as M}from"./statistic-card.component-CUJkCRU4.js";import{b as T,g as N}from"./bank-payment.column-CY-NhKan.js";import{u as B}from"./use-get-vn-banks.query-F2BXTXzV.js";import{f as n}from"./format-currency-DwwnROlR.js";import{u as E}from"./useQuery-BXJOiSOe.js";import"./use-auth.cache-CFuprbIQ.js";import"./button-C4HOWXLM.js";import"./Combination-WE48jzIv.js";import"./index-DWR91OCR.js";import"./index-CROUqNK7.js";import"./react-icons.esm-5SUvy-NO.js";import"./select-BLsJIQQv.js";import"./dropdown-menu-oMbE38VB.js";import"./index-Dwx9NaXw.js";import"./popover-Bx3-hur5.js";import"./card-BA5oHXKG.js";import"./badge-DmV7fwsG.js";import"./dialog-Cq2VxrqT.js";import"./index-DrW2nO8L.js";import"./cell-currency-D6tOSgAE.js";import"./cell-percent-DV96QzFN.js";import"./format-percent-Ca7gawAv.js";import"./cell-text-H3JibL2T.js";import"./dialog-button.component-msJRMg9P.js";import"./label-DhoCOihp.js";import"./cell-bank-ajtKXmsI.js";import"./get-yes-no.util-C-N_EnQX.js";import"./useMutation-Czv1wBp1.js";import"./alert-dialog-BeURQn3I.js";import"./cell-link-Dxt7hr8a.js";import"./customer-cc-info.feature-mi_TeN3z.js";import"./use-get-customer-cc-by-id.query-ajBfmNNj.js";import"./index-CwCgg0f3.js";function F({totalBankPaymentCompleted:o,totalBankPaymentProcessing:i,totalMoneyCompleted:s,totalMoneyCompletedMinusFee:r,totalMoneyProcessing:l,totalMoneyProcessingMinusFee:m}){return e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-x-8 gap-y-4",children:[e.jsxs("div",{className:"lg:col-span-2 font-medium text-lg",children:["Total Bank Payment Completed: ",o]}),e.jsxs("div",{className:"lg:col-span-2 font-medium text-lg",children:["Total Bank Payment Processing: ",i]}),e.jsx(a,{label:"Total Money Completed",value:n(s)}),e.jsx(a,{label:"Total Money Completed (- Fee)",value:n(r)}),e.jsx(a,{label:"Total Money Processing",value:n(l)}),e.jsx(a,{label:"Total Money Processing (- Fee)",value:n(m)})]})}function b(o){return j({url:"/statistics/Get_BankPayment_By_Date",params:o})}function R(o){const i=["BY_DATE",o._from,o._to,o.page,o.page_limit].join("_"),{data:s}=E({queryKey:[...f.BANK_PAYMENT,i],queryFn:()=>b(o),placeholderData:y,gcTime:1e3*10});return{bankPaymentByDate:s}}function w(){const[o,i]=p.useState({from:P(30),to:v()}),[s,r]=p.useState({pageIndex:0,pageSize:10}),[l,m]=k("statistic-bank-payment-columns",{defaultValue:T}),{bankPaymentByDate:t}=R({_from:g(o.from||new Date,d),_to:g(o.to||new Date,d),page:s.pageIndex+1,page_limit:s.pageSize}),{vnBanksByKey:c}=B(),_=p.useMemo(()=>N({vnBanks:c}),[c]),x=(u,...V)=>{u&&i(u)};return e.jsxs("div",{className:"space-y-6 px-4 py-4",children:[e.jsxs("div",{className:"flex items-center flex-col lg:flex-row justify-between space-y-2",children:[e.jsx("h2",{className:"text-2xl lg:text-3xl font-bold tracking-tight",children:"Statistic Bank Payment"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(M,{date:o,onSelect:x})})]}),e.jsx(F,{totalBankPaymentCompleted:t==null?void 0:t.count_bank_completed,totalBankPaymentProcessing:t==null?void 0:t.count_bank_processing,totalMoneyCompleted:t==null?void 0:t.total_money_bank_payment_completed,totalMoneyCompletedMinusFee:t==null?void 0:t.total_money_bank_payment_completed_minus_fee,totalMoneyProcessing:t==null?void 0:t.total_money_bank_payment_processing,totalMoneyProcessingMinusFee:t==null?void 0:t.total_money_bank_payment_processing_minus_fee}),e.jsx(S,{data:t==null?void 0:t.result,columns:_,columnVisibility:l,rowCount:t==null?void 0:t.total_data,pagination:s,onColumnVisibilityChange:m,onPaginationChange:r})]})}function jt(){return e.jsxs(h,{type:"admin",children:[e.jsx(C,{children:e.jsx("title",{children:"POS System - Statistic Bank Payment"})}),e.jsx(w,{})]})}export{jt as default};
