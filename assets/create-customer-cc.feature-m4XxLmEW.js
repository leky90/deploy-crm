import{u as c}from"./useQuery-BXJOiSOe.js";import{Q as n,k as i,a as m,r as C,j as r}from"./index-XwE6gQmn.js";import{a as o}from"./Helmet-DUuvCvTm.js";import{D as l}from"./dialog-button.component-msJRMg9P.js";import{B as u}from"./button-C4HOWXLM.js";import{P as d}from"./react-icons.esm-5SUvy-NO.js";import{D as p}from"./dialog-Cq2VxrqT.js";import{F as f}from"./customer-cc.form-BKGJk0nI.js";import{u as h}from"./useMutation-Czv1wBp1.js";function y(){return o({url:"/customer_creditcard"})}function x(t){return o({url:"/customer_creditcard/Search_CreditcardNumber",params:{cc_num:t}})}function k(t){const{data:e,refetch:s}=c({queryKey:n.CUSTOMER_CC,queryFn:t?()=>x(t):y,placeholderData:i,gcTime:1e4});return{customerCcs:e==null?void 0:e.result,refetchCustomerCcs:s}}function _(t){return o({method:"post",url:"/customer_creditcard",data:t})}function E(){const{mutateAsync:t}=h({mutationFn:_,onSuccess:e=>{e.status&&m.invalidateQueries({queryKey:n.CUSTOMER_CC})}});return{mutationCreateCustomerCc:t}}function q(){const t=C.useRef(null);function e(){var a;(a=t.current)==null||a.click()}const{mutationCreateCustomerCc:s}=E();return r.jsx(l,{title:"Create new customer credit card",className:"w-96",trigger:r.jsxs(u,{className:"gap-2",children:[r.jsx(d,{})," Create new"]}),actionButtons:r.jsx(p,{asChild:!0,children:r.jsx(u,{ref:t,type:"button",variant:"secondary",children:"Close"})}),children:r.jsx(f,{defaultValues:{card_is_stored:0},onClose:e,mutation:s})})}export{q as F,k as u};
