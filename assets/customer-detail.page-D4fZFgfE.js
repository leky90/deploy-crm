import{a as g,Q as f,b as C,r as h,j as e}from"./index-XwE6gQmn.js";import{a as j,H as _}from"./Helmet-DUuvCvTm.js";import{u as y}from"./use-get-customer-by-id.query-lOxLSuWh.js";import{L as i}from"./label-DhoCOihp.js";import{C as r}from"./cell-text-H3JibL2T.js";import{C as N,a as b,b as v,c as I}from"./card-BA5oHXKG.js";import{g as D}from"./get-yes-no.util-C-N_EnQX.js";import{u as E}from"./use-get-vn-banks.query-F2BXTXzV.js";import{u as S,D as U}from"./index-BsOMOp0z.js";import{c as A,g as B}from"./customer-cc.column-Del58lNA.js";import{g as M}from"./get-customer-image-url.util-dqnr5XYm.js";import{G as P}from"./grid-images-D-VjJXus.js";import{u as Q}from"./useMutation-Czv1wBp1.js";import{u as T}from"./use-auth.cache-CFuprbIQ.js";import{B as V}from"./upload.constant-D3d5R5uO.js";import"./useQuery-BXJOiSOe.js";import"./button-C4HOWXLM.js";import"./index-CwCgg0f3.js";import"./Combination-WE48jzIv.js";import"./index-DWR91OCR.js";import"./index-CROUqNK7.js";import"./react-icons.esm-5SUvy-NO.js";import"./select-BLsJIQQv.js";import"./dropdown-menu-oMbE38VB.js";import"./index-Dwx9NaXw.js";import"./dialog-button.component-msJRMg9P.js";import"./dialog-Cq2VxrqT.js";import"./index-DrW2nO8L.js";import"./customer-cc.form-BKGJk0nI.js";import"./index-MxbznExh.js";import"./input-BFqvYdSA.js";import"./vn-bank.field-fT9-E9lv.js";import"./popover-Bx3-hur5.js";import"./use-get-customers.query-CnOE94fL.js";import"./customer-info.feature-Dk8ocKy_.js";function G(s){return j({method:"delete",url:"/customer_info/delete_image_customer",data:s})}function k(){const{mutateAsync:s}=Q({mutationFn:G,onSuccess:a=>{(a.status||a.success)&&g.invalidateQueries({queryKey:f.CUSTOMER})}});return{mutationDeleteCustomerImage:s}}function w(s){return s==null?void 0:s.replace(`https://pos.crawl.vn${V}`,"")}function H(){var m,n;const s=C(),{isAdmin:a}=T(),[l,d]=S("detail-customer-cc-columns",{defaultValue:A}),{vnBanksByKey:o}=E(),c=h.useMemo(()=>B({vnBanks:o}),[o]),{customer:t}=y(Number(s.id)),{mutationDeleteCustomerImage:u}=k(),p=x=>{u({id:s.id,name_image_identify_card:x})};return e.jsxs("div",{className:"space-y-6 px-4 py-4",children:[e.jsx("div",{className:"flex items-center flex-col lg:flex-row justify-between space-y-2",children:e.jsxs("h2",{className:"text-2xl lg:text-3xl font-bold tracking-tight",children:["Customer: ",s.id]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(max-content,480px)_1fr] gap-8",children:[e.jsxs(N,{children:[e.jsx(b,{children:e.jsx(v,{children:"Customer"})}),e.jsx(I,{children:e.jsxs("div",{className:"grid lg:grid-cols-[100px_1fr] items-center gap-4",children:[e.jsx(i,{className:"text-muted-foreground",children:"Customer ID"}),e.jsx(r,{children:t==null?void 0:t.id}),e.jsx(i,{className:"text-muted-foreground",children:"Full name"}),e.jsx(r,{children:t==null?void 0:t.full_name}),e.jsx(i,{className:"text-muted-foreground",children:"Active"}),e.jsx(r,{children:D(t==null?void 0:t.is_active)}),e.jsx(i,{className:"text-muted-foreground",children:"Phone number"}),e.jsx(r,{children:t==null?void 0:t.phonenumber}),e.jsx(i,{className:"text-muted-foreground",children:"UUID"}),e.jsx(r,{children:t==null?void 0:t.uuid_id}),e.jsx(i,{className:"text-muted-foreground",children:"Last update"}),e.jsx(r,{children:t==null?void 0:t.last_update}),e.jsx(i,{className:"text-muted-foreground",children:"Created time"}),e.jsx(r,{children:t==null?void 0:t.time_insert})]})})]}),e.jsx("div",{className:"space-y-2",children:e.jsx(U,{data:t==null?void 0:t.list_customer_creditcard,columns:c,columnVisibility:l,rowCount:(m=t==null?void 0:t.list_customer_creditcard)==null?void 0:m.length,onColumnVisibilityChange:d,hidePagination:!0})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Customer Images:"}),e.jsx(P,{onDelete:a()?p:void 0,getName:w,images:(n=t==null?void 0:t.images_identify_card)==null?void 0:n.map(M)})]})]})}function Ne(){return e.jsxs(e.Fragment,{children:[e.jsx(_,{children:e.jsx("title",{children:"POS System - Customer Detail"})}),e.jsx(H,{})]})}export{Ne as default};
