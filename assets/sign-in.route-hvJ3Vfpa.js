import{j as s,B as f,ae as N,A as b,Q as h,at as x,L as l,P as y,au as E,R as i,a5 as v,aa as U,ab as j,ac as P,ad as T}from"./index-cmrs5-26.js";import{z as n,u as D,t as k,I as m,F as o}from"./index-CWsfpnlA.js";function S({children:e}){return s.jsxDEV("div",{className:"h-screen flex justify-center items-center",children:s.jsxDEV("main",{children:e},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/layouts/auth.layout.tsx",lineNumber:8,columnNumber:7},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/layouts/auth.layout.tsx",lineNumber:7,columnNumber:5},this)}function V(e){return f({url:"/user/login",method:"post",data:e})}function I(){const{mutateAsync:e}=N({mutationFn:V,onSuccess:r=>(b.setQueryData(h.AUTH_INFO,()=>r),r)});return{mutationSignIn:e}}const w=n.object({username:n.string().nonempty(),password:n.string().nonempty()});function C(){const e=x(),{mutationSignIn:r}=I(),{register:a,handleSubmit:t,formState:{errors:u}}=D({defaultValues:{username:"tomtom1",password:"Abc123456!@#"},resolver:k(w)}),c=async d=>{const g=await r(d);try{E(g.token).is_administrator?e(i.USERS):e(i.CUSTOMERS)}catch{e(i.SIGN_IN)}};return s.jsxDEV("form",{onSubmit:t(c),className:"space-y-4 w-80",autoComplete:"off",children:[s.jsxDEV("div",{children:[s.jsxDEV(l,{htmlFor:"username",children:"Username"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:53,columnNumber:9},this),s.jsxDEV(m,{placeholder:"Username",...a("username")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:54,columnNumber:9},this),s.jsxDEV(o,{error:u.username},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:55,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:52,columnNumber:7},this),s.jsxDEV("div",{children:[s.jsxDEV(l,{htmlFor:"password",children:"Password"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:59,columnNumber:9},this),s.jsxDEV(m,{type:"password",placeholder:"Password",...a("password")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:60,columnNumber:9},this),s.jsxDEV(o,{error:u.password},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:65,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:58,columnNumber:7},this),s.jsxDEV(y,{className:"w-full",children:"Submit"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:67,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:47,columnNumber:5},this)}function F(){return s.jsxDEV(s.Fragment,{children:[s.jsxDEV(v,{children:s.jsxDEV("title",{children:"POS System - Sign In"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:9,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:8,columnNumber:7},this),s.jsxDEV(U,{children:[s.jsxDEV(j,{children:s.jsxDEV(P,{className:"text-center",children:"SIGN IN"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:13,columnNumber:11},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:12,columnNumber:9},this),s.jsxDEV(T,{children:s.jsxDEV(C,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:16,columnNumber:11},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:15,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:11,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:7,columnNumber:5},this)}function M(){return s.jsxDEV(S,{children:s.jsxDEV(F,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/routes/sign-in.route.tsx",lineNumber:7,columnNumber:7},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/routes/sign-in.route.tsx",lineNumber:6,columnNumber:5},this)}export{M as default};
