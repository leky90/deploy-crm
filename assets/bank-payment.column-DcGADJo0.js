import{a as d,Q as p,j as e,R as b,r as f}from"./index-BBOSr7wM.js";import{U as y,E as k}from"./react-icons.esm-EA0c0Jq7.js";import{B as l}from"./badge-D4qaH8cp.js";import{B as m}from"./button-DqtCoJ9q.js";import{D as N}from"./dialog-CznRd4sf.js";import{C as u}from"./cell-currency-IZTdxO1t.js";import{C as c}from"./cell-percent-Dd2gXLM_.js";import{C as i}from"./cell-text-ChSs_gCg.js";import{D as g}from"./dialog-button.component-C7zQarz6.js";import{L as x}from"./label-Dlj4BwLN.js";import{C as h}from"./cell-bank-DuMXHYMT.js";import{T as D,a as V,b as v,c as T}from"./index-BD4JkVE2.js";import{u as P}from"./useMutation-Cup4ynIy.js";import{a as E}from"./Helmet-B_Qq3Yxz.js";import{A as U,a as _,b as j,c as C,d as A,e as B,f as I,g as K,h as S}from"./alert-dialog-Dgqz29oO.js";import{C as F}from"./cell-link-BeZd-OTt.js";import{F as M}from"./customer-cc-info.feature-BVPKQP73.js";function R(r){return E({method:"patch",url:"/customer_history/bankPayments/update_bank_payment_complete",data:r})}function L(){const{mutateAsync:r}=P({mutationFn:R,onSettled:()=>{d.invalidateQueries({queryKey:p.BANK_PAYMENT})}});return{mutationUpdateBankPaymentStatusById:r}}function o({status:r,id:s}){const{mutationUpdateBankPaymentStatusById:a}=L(),n=()=>{a({id:s,is_bank_payment_complete:!r})};return e.jsxDEV(D,{children:e.jsxDEV(V,{children:[e.jsxDEV(v,{children:e.jsxDEV(U,{children:[e.jsxDEV(_,{asChild:!0,children:e.jsxDEV(m,{variant:"outline",size:"icon",children:e.jsxDEV(y,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/update-bank-payment-status.feature.tsx",lineNumber:45,columnNumber:17},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/update-bank-payment-status.feature.tsx",lineNumber:44,columnNumber:15},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/update-bank-payment-status.feature.tsx",lineNumber:43,columnNumber:13},this),e.jsxDEV(j,{children:[e.jsxDEV(C,{children:[e.jsxDEV(A,{children:"Changing status"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/update-bank-payment-status.feature.tsx",lineNumber:50,columnNumber:17},this),e.jsxDEV(B,{children:["Confirm to update bank payment status to"," ",r?"uncomplete":"complete","."]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/update-bank-payment-status.feature.tsx",lineNumber:51,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/update-bank-payment-status.feature.tsx",lineNumber:49,columnNumber:15},this),e.jsxDEV(I,{children:[e.jsxDEV(K,{children:"Cancel"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/update-bank-payment-status.feature.tsx",lineNumber:57,columnNumber:17},this),e.jsxDEV(S,{onClick:n,children:"Confirm"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/update-bank-payment-status.feature.tsx",lineNumber:58,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/update-bank-payment-status.feature.tsx",lineNumber:56,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/update-bank-payment-status.feature.tsx",lineNumber:48,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/update-bank-payment-status.feature.tsx",lineNumber:42,columnNumber:11},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/update-bank-payment-status.feature.tsx",lineNumber:41,columnNumber:9},this),e.jsxDEV(T,{children:e.jsxDEV("p",{children:["Update bank payment status to ",r?"uncomplete":"complete","."]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/update-bank-payment-status.feature.tsx",lineNumber:66,columnNumber:11},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/update-bank-payment-status.feature.tsx",lineNumber:65,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/update-bank-payment-status.feature.tsx",lineNumber:40,columnNumber:7},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/update-bank-payment-status.feature.tsx",lineNumber:39,columnNumber:5},this)}function O({row:r,vnBanks:s,showUpdateStatus:a}){return e.jsxDEV("div",{className:"grid sm:grid-cols-[200px_1fr] items-center gap-4 max-h-96 px-4 overflow-auto",children:r.getAllCells().map(n=>{let t=e.jsxDEV(i,{children:n.getValue()},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/bank-payment-info.feature.tsx",lineNumber:30,columnNumber:25},this);if(n.column.id!=="actions"){switch(n.column.id){case"id_customer_creditcard":t=e.jsxDEV(F,{to:b.CUSTOMER_CC_DETAIL.replace(":id",n.getValue()),children:n.getValue()},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/bank-payment-info.feature.tsx",lineNumber:37,columnNumber:15},this);break;case"id_vietnamese_bank":t=e.jsxDEV(h,{value:n.getValue(),vnBanks:s},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/bank-payment-info.feature.tsx",lineNumber:50,columnNumber:15},this);break;case"is_bank_payment_complete":t=e.jsxDEV("div",{className:"space-x-2",children:[e.jsxDEV(l,{variant:n.getValue()?"success":"destructive",children:n.getValue()?"Đã chuyển":"Chưa chuyển"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/bank-payment-info.feature.tsx",lineNumber:56,columnNumber:17},this),a&&e.jsxDEV(o,{id:n.row.original.id,status:n.getValue()},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/bank-payment-info.feature.tsx",lineNumber:62,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/bank-payment-info.feature.tsx",lineNumber:55,columnNumber:15},this);break;case"percent_to_charge":t=e.jsxDEV(c,{value:n.getValue()/100},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/bank-payment-info.feature.tsx",lineNumber:71,columnNumber:25},this);break;case"money_total":case"money_applied_percent":t=e.jsxDEV(u,{value:n.getValue()},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/bank-payment-info.feature.tsx",lineNumber:75,columnNumber:25},this);break}return e.jsxDEV(f.Fragment,{children:[e.jsxDEV(x,{className:"text-muted-foreground",children:n.column.columnDef.header},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/bank-payment-info.feature.tsx",lineNumber:82,columnNumber:13},this),e.jsxDEV("div",{children:t},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/bank-payment-info.feature.tsx",lineNumber:85,columnNumber:13},this)]},n.id,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/bank-payment-info.feature.tsx",lineNumber:81,columnNumber:11},this)}})},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/features/bank-payment-info.feature.tsx",lineNumber:28,columnNumber:5},this)}const te={id:!0,id_customer_creditcard:!0,id_vietnamese_bank:!0,is_bank_payment_complete:!0,money_applied_percent:!0,money_total:!0,percent_to_charge:!0,tid_pos:!0},ie=({vnBanks:r,showUpdateStatus:s})=>[{accessorKey:"id",header:"ID",enableHiding:!1,cell:a=>e.jsxDEV(i,{children:a.getValue()},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/columns/bank-payment.column.tsx",lineNumber:38,columnNumber:14},void 0)},{accessorKey:"id_customer_creditcard",header:"Customer CCID",cell:a=>e.jsxDEV(M,{id:a.getValue()},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/columns/bank-payment.column.tsx",lineNumber:45,columnNumber:14},void 0)},{accessorKey:"tid_pos",header:"POS TID",cell:a=>e.jsxDEV(i,{children:a.getValue()},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/columns/bank-payment.column.tsx",lineNumber:52,columnNumber:14},void 0)},{accessorKey:"id_vietnamese_bank",header:"Bank Name",cell:a=>{var n;return e.jsxDEV(i,{children:(n=r==null?void 0:r[a.getValue()])==null?void 0:n.short_name},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/columns/bank-payment.column.tsx",lineNumber:60,columnNumber:9},void 0)}},{accessorKey:"is_bank_payment_complete",header:"Is bank payment complete?",cell:a=>e.jsxDEV("div",{className:"space-x-2 truncate",children:[e.jsxDEV(l,{variant:a.getValue()?"success":"destructive",children:a.getValue()?"Đã chuyển":"Chưa chuyển"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/columns/bank-payment.column.tsx",lineNumber:70,columnNumber:11},void 0),s&&e.jsxDEV(o,{id:a.row.original.id,status:a.getValue()},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/columns/bank-payment.column.tsx",lineNumber:74,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/columns/bank-payment.column.tsx",lineNumber:69,columnNumber:9},void 0)},{accessorKey:"money_total",header:"Total Money",cell:a=>e.jsxDEV(u,{value:a.getValue()},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/columns/bank-payment.column.tsx",lineNumber:87,columnNumber:14},void 0)},{accessorKey:"percent_to_charge",header:"Percent to charge",cell:a=>e.jsxDEV(c,{value:a.getValue()/100},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/columns/bank-payment.column.tsx",lineNumber:94,columnNumber:14},void 0)},{accessorKey:"money_applied_percent",header:"Total Money (- Fee)",cell:a=>e.jsxDEV(u,{value:a.getValue()},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/columns/bank-payment.column.tsx",lineNumber:101,columnNumber:14},void 0)},{id:"actions",enableHiding:!1,cell:({row:a})=>e.jsxDEV(g,{title:"Detail Info",description:"Detail info's bank payment.",trigger:e.jsxDEV(m,{variant:"outline",size:"icon",children:e.jsxDEV(k,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/columns/bank-payment.column.tsx",lineNumber:114,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/columns/bank-payment.column.tsx",lineNumber:113,columnNumber:13},void 0),actionButtons:e.jsxDEV(N,{asChild:!0,children:e.jsxDEV(m,{type:"button",variant:"secondary",children:"Close"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/columns/bank-payment.column.tsx",lineNumber:119,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/columns/bank-payment.column.tsx",lineNumber:118,columnNumber:13},void 0),children:e.jsxDEV(O,{row:a,vnBanks:r,showUpdateStatus:s},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/columns/bank-payment.column.tsx",lineNumber:125,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/bank-payment/columns/bank-payment.column.tsx",lineNumber:109,columnNumber:9},void 0)}];export{te as b,ie as g};
