import{Q as u,k as x,a as h,u as y,r as c,j as e}from"./index-BdjeCpkh.js";import{a as d,H as v}from"./Helmet-kVct0yGF.js";import{u as D}from"./useQuery-CnkawhXi.js";import{L as t}from"./label-C2AW7_0h.js";import{C as n}from"./cell-text-J-sXNYRD.js";import{C as E,a as C,b as U,c as T}from"./card-sI4VagSQ.js";import{g as P}from"./get-yes-no.util-C-N_EnQX.js";import{u as k}from"./use-get-vn-banks.query-eEN215UD.js";import{D as V}from"./data-table-DXqxn081.js";import{c as j,g as _}from"./customer-cc.column-CeYlWc0y.js";import{G as I,g as S}from"./get-customer-image-url.util-BvIQsM8B.js";import{u as B}from"./useMutation-Pdd3Y3WP.js";import{u as A}from"./use-auth.cache-DatUc_I8.js";import{B as M}from"./upload.constant-sHXMtF6P.js";import"./index-Co--pDyh.js";import"./index-CIvGbyhS.js";import"./index-DlnaK11U.js";import"./dropdown-menu-DBp7W44s.js";import"./react-icons.esm-CsDXENB9.js";import"./select-D09E7fIP.js";import"./dialog-button.component-DIjKy6kw.js";import"./index-CkrijSnO.js";import"./cell-link-aNpXGj1N.js";import"./index-VWaDGczM.js";function Q(s){return d({url:"/customer_info/get_customer_info_by_id",params:s})}function G(s){var m;const{data:i}=D({queryKey:[...u.CUSTOMER,s],queryFn:()=>Q({id:s}),placeholderData:x,gcTime:1e4});return{customer:(m=i==null?void 0:i.result)==null?void 0:m[0]}}function R(s){return d({method:"delete",url:"/customer_info/delete_image_customer",data:s})}function F(){const{mutateAsync:s}=B({mutationFn:R,onSuccess:i=>{(i.status||i.success)&&h.invalidateQueries({queryKey:u.CUSTOMER})}});return{mutationDeleteCustomerImage:s}}function H(s){return s==null?void 0:s.replace(`https://pos.crawl.vn${M}`,"")}function K(){var l,o;const s=y(),{isAdmin:i}=A(),[m,p]=c.useState(j),{vnBanksByKey:a}=k(),N=c.useMemo(()=>_({vnBanks:a}),[a]),{customer:r}=G(Number(s.id)),{mutationDeleteCustomerImage:b}=F(),f=g=>{b({id:s.id,name_image_identify_card:g})};return e.jsxDEV("div",{className:"space-y-6 px-4 py-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between space-y-2",children:e.jsxDEV("h2",{className:"text-3xl font-bold tracking-tight",children:["Customer: ",s.id]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:50,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:49,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-[480px_1fr] gap-8",children:[e.jsxDEV(E,{children:[e.jsxDEV(C,{children:e.jsxDEV(U,{children:"Customer"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:57,columnNumber:13},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:56,columnNumber:11},this),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"grid grid-cols-[100px_1fr] items-center gap-4",children:[e.jsxDEV(t,{className:"text-muted-foreground",children:"Customer ID"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:61,columnNumber:15},this),e.jsxDEV(n,{children:r==null?void 0:r.id},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:62,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"Full name"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:64,columnNumber:15},this),e.jsxDEV(n,{children:r==null?void 0:r.full_name},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:65,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"Active"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:67,columnNumber:15},this),e.jsxDEV(n,{children:P(r==null?void 0:r.is_active)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:68,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"Phone number"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:70,columnNumber:15},this),e.jsxDEV(n,{children:r==null?void 0:r.phonenumber},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:71,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"UUID"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:73,columnNumber:15},this),e.jsxDEV(n,{children:r==null?void 0:r.uuid_id},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:74,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"Last update"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:76,columnNumber:15},this),e.jsxDEV(n,{children:r==null?void 0:r.last_update},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:77,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"Created time"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:79,columnNumber:15},this),e.jsxDEV(n,{children:r==null?void 0:r.time_insert},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:80,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:60,columnNumber:13},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:59,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:55,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:e.jsxDEV(V,{data:r==null?void 0:r.list_customer_creditcard,columns:N,columnVisibility:m,rowCount:(l=r==null?void 0:r.list_customer_creditcard)==null?void 0:l.length,onColumnVisibilityChange:p,hidePagination:!0},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:85,columnNumber:11},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:84,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:54,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(t,{children:"Customer Images:"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:96,columnNumber:9},this),e.jsxDEV(I,{onDelete:i()?f:void 0,getName:H,images:(o=r==null?void 0:r.images_identify_card)==null?void 0:o.map(S)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:97,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:95,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:48,columnNumber:5},this)}function pe(){return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(v,{children:e.jsxDEV("title",{children:"POS System - Customer Detail"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/pages/customer-detail.page.tsx",lineNumber:8,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/pages/customer-detail.page.tsx",lineNumber:7,columnNumber:7},this),e.jsxDEV(K,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/pages/customer-detail.page.tsx",lineNumber:10,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/pages/customer-detail.page.tsx",lineNumber:6,columnNumber:5},this)}export{pe as default};
