import{Q as P,k as y,j as e,b as h,r as m,D as d}from"./index-XwE6gQmn.js";import{R as j}from"./role-redirect.component-B-7d_oPr.js";import{a as C,H as S}from"./Helmet-DUuvCvTm.js";import{u as k,D as b}from"./index-BsOMOp0z.js";import{S as l,g as v,a as T,f as _,D as E}from"./statistic-card.component-CUJkCRU4.js";import{u as N}from"./use-get-vn-banks.query-F2BXTXzV.js";import{u as F}from"./useQuery-BXJOiSOe.js";import{b as M,g as R}from"./bank-payment.column-CY-NhKan.js";import{f as c}from"./format-currency-DwwnROlR.js";import"./use-auth.cache-CFuprbIQ.js";import"./button-C4HOWXLM.js";import"./Combination-WE48jzIv.js";import"./index-DWR91OCR.js";import"./index-CROUqNK7.js";import"./react-icons.esm-5SUvy-NO.js";import"./select-BLsJIQQv.js";import"./dropdown-menu-oMbE38VB.js";import"./index-Dwx9NaXw.js";import"./popover-Bx3-hur5.js";import"./card-BA5oHXKG.js";import"./index-CwCgg0f3.js";import"./badge-DmV7fwsG.js";import"./dialog-Cq2VxrqT.js";import"./index-DrW2nO8L.js";import"./cell-currency-D6tOSgAE.js";import"./cell-percent-DV96QzFN.js";import"./format-percent-Ca7gawAv.js";import"./cell-text-H3JibL2T.js";import"./dialog-button.component-msJRMg9P.js";import"./label-DhoCOihp.js";import"./cell-bank-ajtKXmsI.js";import"./get-yes-no.util-C-N_EnQX.js";import"./useMutation-Czv1wBp1.js";import"./alert-dialog-BeURQn3I.js";import"./cell-link-Dxt7hr8a.js";import"./customer-cc-info.feature-mi_TeN3z.js";import"./use-get-customer-cc-by-id.query-ajBfmNNj.js";function w(o){return C({url:"/statistics/Get_Pos_Used_By_Date",params:o})}function V(o){const i=["BY_DATE",o.id_pos_info,o._from,o._to,o.page,o.page_limit].join("_"),{data:a}=F({queryKey:[...P.POS_USED,i],queryFn:()=>w(o),placeholderData:y,gcTime:1e3*10});return{posUsedByDate:a}}function O({totalBankPayment:o,totalBankPaymentCompleted:i,totalBankPaymentProcessing:a,totalMoneyCompleted:n,totalMoneyCompletedMinusFee:r,fee:s}){return e.jsxs("div",{className:"grid md:grid-cols-3 gap-x-8 gap-y-4",children:[e.jsxs("div",{className:"font-medium text-lg",children:["Total Bank Payment: ",o]}),e.jsxs("div",{className:"font-medium text-lg",children:["Total Bank Payment Completed: ",i]}),e.jsxs("div",{className:"font-medium text-lg",children:["Total Bank Payment Processing: ",a]}),e.jsx(l,{label:"Total Money Completed",value:c(n)}),e.jsx(l,{label:"Fee",value:c(s)}),e.jsx(l,{label:"Total Money Completed (- Fee)",value:c(r)})]})}function Q(){const{id:o}=h(),[i,a]=m.useState({from:v(30),to:T()}),[n,r]=m.useState({pageIndex:0,pageSize:10}),[s,g]=k("pos-used-columns",{defaultValue:M}),{posUsedByDate:t}=V({_from:_(i.from||new Date,d),_to:_(i.to||new Date,d),id_pos_info:String(o),page:n.pageIndex+1,page_limit:n.pageSize}),{vnBanksByKey:u}=N(),x=m.useMemo(()=>R({vnBanks:u}),[u]),f=(p,...K)=>{p&&a(p)};return e.jsxs("div",{className:"space-y-6 px-4 py-4",children:[e.jsxs("div",{className:"flex items-center flex-col lg:flex-row justify-between space-y-2",children:[e.jsx("h2",{className:"text-2xl lg:text-3xl font-bold tracking-tight",children:"Statistic POS Used"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(E,{date:i,onSelect:f})})]}),e.jsx(O,{totalBankPayment:t==null?void 0:t.total,totalBankPaymentCompleted:t==null?void 0:t.tong_so_giao_dich_da_duoc_bank_tra_tien,totalBankPaymentProcessing:t==null?void 0:t.tong_so_giao_dich_chua_duoc_bank_tra_tien,totalMoneyCompleted:t==null?void 0:t.tong_tien_chua_tru_phi,totalMoneyCompletedMinusFee:t==null?void 0:t.tong_tien_da_tru_phi,fee:t==null?void 0:t.fee}),e.jsx(b,{data:t==null?void 0:t.result,columns:x,rowCount:t==null?void 0:t.total_data,columnVisibility:s,onColumnVisibilityChange:g,pagination:n,onPaginationChange:r})]})}function jt(){return e.jsxs(j,{type:"admin",children:[e.jsx(S,{children:e.jsx("title",{children:"POS System - Statistic POS Used"})}),e.jsx(Q,{})]})}export{jt as default};
