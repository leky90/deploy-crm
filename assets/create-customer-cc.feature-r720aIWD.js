import{u as i}from"./useQuery-BMvn2REM.js";import{Q as o,k as m,a as n,r as l,j as t}from"./index-Do2QKNGk.js";import{a as u}from"./Helmet-C3JY7vFc.js";import{D as f}from"./dialog-button.component-DN9_VK_t.js";import{B as a}from"./button-e30OhjXb.js";import{P as d}from"./react-icons.esm-Di3OhqCb.js";import{D as C}from"./dialog-BDrnUkE_.js";import{F as p}from"./customer-cc.form-DvfrEvG7.js";import{u as N}from"./useMutation-Br87UrH6.js";function b(){return u({url:"/customer_creditcard"})}function h(e){return u({url:"/customer_creditcard/Search_CreditcardNumber",params:{cc_num:e}})}function j(e){const{data:r,refetch:s}=i({queryKey:o.CUSTOMER_CC,queryFn:e?()=>h(e):b,placeholderData:m,gcTime:1e4});return{customerCcs:r==null?void 0:r.result,refetchCustomerCcs:s}}function y(e){return u({method:"post",url:"/customer_creditcard",data:e})}function x(){const{mutateAsync:e}=N({mutationFn:y,onSuccess:r=>{r.status&&n.invalidateQueries({queryKey:o.CUSTOMER_CC})}});return{mutationCreateCustomerCc:e}}function V(){const e=l.useRef(null);function r(){var c;(c=e.current)==null||c.click()}const{mutationCreateCustomerCc:s}=x();return t.jsxDEV(f,{title:"Create new customer credit card",className:"w-96",trigger:t.jsxDEV(a,{className:"gap-2",children:[t.jsxDEV(d,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/features/create-customer-cc.feature.tsx",lineNumber:24,columnNumber:11},this)," Create new"]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/features/create-customer-cc.feature.tsx",lineNumber:23,columnNumber:9},this),actionButtons:t.jsxDEV(C,{asChild:!0,children:t.jsxDEV(a,{ref:e,type:"button",variant:"secondary",children:"Close"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/features/create-customer-cc.feature.tsx",lineNumber:29,columnNumber:11},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/features/create-customer-cc.feature.tsx",lineNumber:28,columnNumber:9},this),children:t.jsxDEV(p,{defaultValues:{card_is_stored:0},onClose:r,mutation:s},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/features/create-customer-cc.feature.tsx",lineNumber:35,columnNumber:7},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/features/create-customer-cc.feature.tsx",lineNumber:19,columnNumber:5},this)}export{V as F,j as u};
