import{r as p,j as e}from"./index-XwE6gQmn.js";import{a as O,H as R}from"./Helmet-DUuvCvTm.js";import{C as T,a as Y,b as w,c as B}from"./card-BA5oHXKG.js";import{I as j}from"./input-BFqvYdSA.js";import{L as y}from"./label-DhoCOihp.js";import{f as b}from"./format-currency-DwwnROlR.js";import{f as I}from"./format-percent-Ca7gawAv.js";import{z as H,u as z,F as A,t as K}from"./index-MxbznExh.js";import{B as U}from"./button-C4HOWXLM.js";import{u as q}from"./useMutation-Czv1wBp1.js";function G(){var N,g,x,S;const[o,f]=p.useState(0),n=p.useRef(null),s=p.useRef(null),c=p.useRef(null),t=p.useRef(null),m=h=>{if(!n.current||!s.current||!c.current||!t.current)return;h.key==="Backspace"?f(i=>--i):f(i=>++i)},d=h=>{if(!n.current||!s.current||!c.current||!t.current)return;f(r=>++r);const a=Number(n.current.value),i=Number(s.current.value),u=Number(c.current.value),l=Number(t.current.value);if(!(isNaN(a)||isNaN(i)||isNaN(u)||isNaN(l))){if(h.currentTarget===n.current){const r=Math.round(a*i/100);c.current.value=String(a-r),t.current.value=String(r)}if(h.currentTarget===s.current){if(a>0){const r=Math.round(a*i/100);c.current.value=String(a-r),t.current.value=String(r)}else if(u>0){const r=Math.round(u/(1-i/100)),v=Math.round(r-u);n.current.value=String(r),t.current.value=String(v)}}if(h.currentTarget===c.current){if(a>0){const r=a-u;s.current.value=String((r/a*100).toFixed(2)),t.current.value=String(r)}else if(i>0){const r=Math.round(u/(1-i/100)),v=Math.round(r-u);n.current.value=String(r),t.current.value=String(v)}else if(l>0){const r=Math.round(u+l),v=(l/r*100).toFixed(2);n.current.value=String(r),s.current.value=String(v)}}if(h.currentTarget===t.current){if(a>0)s.current.value=String((l/a*100).toFixed(2)),c.current.value=String(a-l);else if(u>0){const r=Math.round(u+l),v=(l/r*100).toFixed(2);n.current.value=String(r),s.current.value=String(v)}}}};return p.useEffect(()=>{var h,a,i,u,l,r,v,M;return(h=n.current)==null||h.addEventListener("change",d),(a=s.current)==null||a.addEventListener("change",d),(i=c.current)==null||i.addEventListener("change",d),(u=t.current)==null||u.addEventListener("change",d),(l=n.current)==null||l.addEventListener("keyup",m),(r=s.current)==null||r.addEventListener("keyup",m),(v=c.current)==null||v.addEventListener("keyup",m),(M=t.current)==null||M.addEventListener("keyup",m),()=>{var E,C,L,F,k,D,_,P;(E=n.current)==null||E.removeEventListener("change",d),(C=s.current)==null||C.removeEventListener("change",d),(L=c.current)==null||L.removeEventListener("change",d),(F=t.current)==null||F.removeEventListener("change",d),(k=n.current)==null||k.removeEventListener("keyup",m),(D=s.current)==null||D.removeEventListener("keyup",m),(_=c.current)==null||_.removeEventListener("keyup",m),(P=t.current)==null||P.removeEventListener("keyup",m)}},[]),e.jsxs("form",{className:"grid grid-cols-2 gap-4 items-start",autoComplete:"off",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(y,{htmlFor:"original_price",children:"Original price"}),e.jsx(j,{ref:n,type:"number",placeholder:"Original price",min:0}),e.jsx("p",{className:"p-2 text-sm italic",children:(N=n==null?void 0:n.current)!=null&&N.value&&!isNaN(Number(n.current.value))?b(Number(n.current.value)):" "})]}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"discount_discount",children:"Percent Discount"}),e.jsx(j,{ref:s,type:"number",placeholder:"Percent Discount",min:0}),e.jsx("p",{className:"p-2 text-sm italic",children:(g=s==null?void 0:s.current)!=null&&g.value&&!isNaN(Number(s.current.value))?I(Number(s.current.value)/100):" "})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(y,{htmlFor:"saving",children:"You're saving"}),e.jsx(j,{ref:t,type:"number",placeholder:"You're saving",min:0}),e.jsx("p",{className:"p-2 text-sm italic",children:(x=t==null?void 0:t.current)!=null&&x.value&&!isNaN(Number(t.current.value))?b(Number(t.current.value)):" "})]}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"pay",children:"You pay"}),e.jsx(j,{ref:c,type:"number",placeholder:"You pay",min:0}),e.jsx("p",{className:"p-2 text-sm italic",children:(S=c==null?void 0:c.current)!=null&&S.value&&!isNaN(Number(c.current.value))?b(Number(c.current.value)):" "})]})]})]})}function J(o){return O({url:"/Divide_Money",params:o})}function Q(){const{mutateAsync:o}=q({mutationFn:J});return{mutationDivideMoney:o}}const V=H.object({money_total:H.coerce.number().min(0)});function W(){p.useRef(null);const[o,f]=p.useState(),{mutationDivideMoney:n}=Q(),{register:s,handleSubmit:c,watch:t,formState:{errors:m}}=z({resolver:K(V)}),d=async g=>{const x=await n(g);x.status&&f(x)},N=t("money_total");return e.jsxs("form",{onSubmit:c(d),className:"grid md:grid-cols-2 items-start gap-4",autoComplete:"off",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(y,{htmlFor:"money_total",children:"Money total"}),e.jsx(j,{placeholder:"Money total",...s("money_total")}),e.jsx("p",{className:"p-2 text-sm italic",children:isNaN(Number(N))?" ":b(Number(N))}),e.jsx(A,{error:m.money_total})]}),e.jsx(U,{className:"w-full",children:"Submit"})]}),e.jsxs("div",{className:"space-y-4",children:[o==null?void 0:o.result.map((g,x)=>e.jsx("p",{children:g},x)),e.jsxs("p",{className:"font-medium",children:["Total money recheck: ",o==null?void 0:o.total_money_recheck]})]})]})}function ie(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{children:e.jsx("title",{children:"POS System - Money Calculators"})}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs(T,{children:[e.jsx(Y,{children:e.jsx(w,{className:"text-center",children:"Discount Calculator"})}),e.jsx(B,{children:e.jsx(G,{})})]}),e.jsxs(T,{children:[e.jsx(Y,{children:e.jsx(w,{className:"text-center",children:"Divide Money Calculator"})}),e.jsx(B,{children:e.jsx(W,{})})]})]})]})}export{ie as default};
