import{a as n,Q as u,r as l,j as r,L as d,R as m}from"./index-XwE6gQmn.js";import{C as a}from"./cell-text-H3JibL2T.js";import{D as C}from"./dialog-button.component-msJRMg9P.js";import{B as i}from"./button-C4HOWXLM.js";import{e as p,E as _}from"./react-icons.esm-5SUvy-NO.js";import{D as x}from"./dialog-Cq2VxrqT.js";import{F as h}from"./customer-cc.form-BKGJk0nI.js";import{u as f}from"./useMutation-Czv1wBp1.js";import{a as g}from"./Helmet-DUuvCvTm.js";import{g as j}from"./get-yes-no.util-C-N_EnQX.js";import{F as y}from"./customer-info.feature-Dk8ocKy_.js";function E(t){return g({method:"patch",url:"/customer_creditcard",data:t})}function K(){const{mutateAsync:t}=f({mutationFn:E,onSuccess:()=>{n.invalidateQueries({queryKey:u.CUSTOMER_CC})}});return{mutationUpdateCustomerCc:t}}function V({row:t}){const e=l.useRef(null);function s(){var c;(c=e.current)==null||c.click()}const{mutationUpdateCustomerCc:o}=K();return r.jsx(C,{title:"Update customer credit card",className:"w-96",trigger:r.jsx(i,{variant:"outline",size:"icon",children:r.jsx(p,{})}),actionButtons:r.jsx(x,{asChild:!0,children:r.jsx(i,{ref:e,type:"button",variant:"secondary",children:"Close"})}),children:r.jsx(h,{defaultValues:t.original,onClose:s,mutation:o})})}const O={id:!0,id_customer_info:!0,id_vietnamese_bank:!0,card_is_stored:!0,name_on_creditcard:!0,creditcard_number:!0,date_exp_creditcard:!0,last_update:!1,time_insert:!1},Q=({vnBanks:t})=>[{accessorKey:"id",header:"ID",enableHiding:!1,cell:e=>r.jsx(a,{children:e.getValue()})},{accessorKey:"id_customer_info",header:"Customer Info ID",cell:e=>r.jsx(y,{id:e.getValue()})},{accessorKey:"id_vietnamese_bank",header:"Bank Name",cell:e=>{var s;return r.jsx(a,{children:(s=t==null?void 0:t[e.getValue()])==null?void 0:s.short_name})}},{accessorKey:"card_is_stored",header:"Card Is Stored",cell:e=>r.jsx(a,{children:j(e.getValue())})},{accessorKey:"name_on_creditcard",header:"Card Name",cell:e=>r.jsx(a,{children:e.getValue()})},{accessorKey:"creditcard_number",header:"CC Number",cell:e=>r.jsx(a,{children:e.getValue()})},{accessorKey:"date_exp_creditcard",header:"Date Expired",cell:e=>r.jsx(a,{children:e.getValue()})},{accessorKey:"last_update",header:"Last update",cell:e=>r.jsx(a,{children:e.getValue()})},{accessorKey:"time_insert",header:"Created time",cell:e=>r.jsx(a,{children:e.getValue()})},{id:"actions",enableHiding:!1,cell:({row:e})=>r.jsxs("div",{className:"space-x-2 truncate",children:[r.jsx(V,{row:e}),r.jsx(d,{to:m.CUSTOMER_CC_DETAIL.replace(":id",String(e.original.id)),className:"text-primary",children:r.jsx(i,{variant:"outline",size:"icon",children:r.jsx(_,{})})})]})}];export{O as c,Q as g};
