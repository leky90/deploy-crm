import{j as s,a as f,Q as N,c as b,R as i}from"./index-xDYarw1b.js";import{C as h,a as x,b as y,c as E}from"./card-CwUVWthK.js";import{z as n,u as v,F as l,t as U}from"./index-DItwitxo.js";import{a as j,B as P}from"./api-client-CwwcObB-.js";import{I as a}from"./input-DJhrRHsh.js";import{j as T}from"./index-VWaDGczM.js";import{u as D}from"./useMutation-4ODOkRpf.js";import{L as o}from"./label-rPC5FL3x.js";import{H as k}from"./Helmet-DpZVI66e.js";import"./index-D5vWOHvA.js";function S({children:e}){return s.jsxDEV("div",{className:"h-screen flex justify-center items-center",children:s.jsxDEV("main",{children:e},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/layouts/auth.layout.tsx",lineNumber:8,columnNumber:7},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/layouts/auth.layout.tsx",lineNumber:7,columnNumber:5},this)}function V(e){return j({url:"/user/login",method:"post",data:e})}function I(){const{mutateAsync:e}=D({mutationFn:V,onSuccess:r=>(f.setQueryData(N.AUTH_INFO,()=>r),r)});return{mutationSignIn:e}}const w=n.object({username:n.string().nonempty(),password:n.string().nonempty()});function C(){const e=b(),{mutationSignIn:r}=I(),{register:m,handleSubmit:t,formState:{errors:u}}=v({defaultValues:{username:"tomtom1",password:"Abc123456!@#"},resolver:U(w)}),c=async d=>{const p=await r(d);try{T(p.token).is_administrator?e(i.USERS):e(i.CUSTOMERS)}catch{e(i.SIGN_IN)}};return s.jsxDEV("form",{onSubmit:t(c),className:"space-y-4 w-80",autoComplete:"off",children:[s.jsxDEV("div",{children:[s.jsxDEV(o,{htmlFor:"username",children:"Username"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:53,columnNumber:9},this),s.jsxDEV(a,{placeholder:"Username",...m("username")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:54,columnNumber:9},this),s.jsxDEV(l,{error:u.username},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:55,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:52,columnNumber:7},this),s.jsxDEV("div",{children:[s.jsxDEV(o,{htmlFor:"password",children:"Password"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:59,columnNumber:9},this),s.jsxDEV(a,{type:"password",placeholder:"Password",...m("password")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:60,columnNumber:9},this),s.jsxDEV(l,{error:u.password},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:65,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:58,columnNumber:7},this),s.jsxDEV(P,{className:"w-full",children:"Submit"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:67,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/sign-in/sign-in.form.tsx",lineNumber:47,columnNumber:5},this)}function F(){return s.jsxDEV(s.Fragment,{children:[s.jsxDEV(k,{children:s.jsxDEV("title",{children:"POS System - Sign In"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:9,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:8,columnNumber:7},this),s.jsxDEV(h,{children:[s.jsxDEV(x,{children:s.jsxDEV(y,{className:"text-center",children:"SIGN IN"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:13,columnNumber:11},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:12,columnNumber:9},this),s.jsxDEV(E,{children:s.jsxDEV(C,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:16,columnNumber:11},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:15,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:11,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/sign-in.page.tsx",lineNumber:7,columnNumber:5},this)}function Y(){return s.jsxDEV(S,{children:s.jsxDEV(F,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/routes/sign-in.route.tsx",lineNumber:7,columnNumber:7},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/routes/sign-in.route.tsx",lineNumber:6,columnNumber:5},this)}export{Y as default};
