import{B as o,E as g,Q as d,X as h,ae as y,A as v,a7 as D,u as E,r as u,a1 as U,j as e,aa as C,ab as T,ac as P,ad as k,M as t,G as n,ar as V,a3 as j,a6 as _}from"./index-Be0YMae2.js";import{c as I,g as B}from"./customer-cc.column-20Za1cR1.js";import{G as S,g as A}from"./get-customer-image-url.util-BK3vNBZh.js";import{B as M}from"./upload.constant-sHXMtF6P.js";import"./index-D9-DBdEl.js";function Q(r){return o({url:"/customer_info/get_customer_info_by_id",params:r})}function G(r){var a;const{data:i}=g({queryKey:[...d.CUSTOMER,r],queryFn:()=>Q({id:r}),placeholderData:h,gcTime:1e4});return{customer:(a=i==null?void 0:i.result)==null?void 0:a[0]}}function R(r){return o({method:"delete",url:"/customer_info/delete_image_customer",data:r})}function F(){const{mutateAsync:r}=y({mutationFn:R,onSuccess:i=>{(i.status||i.success)&&v.invalidateQueries({queryKey:d.CUSTOMER})}});return{mutationDeleteCustomerImage:r}}function K(r){return r==null?void 0:r.replace(`https://pos.crawl.vn${M}`,"")}function O(){var m,c;const r=D(),{isAdmin:i}=E(),[a,N]=u.useState(I),{vnBanksByKey:l}=U(),b=u.useMemo(()=>B({vnBanks:l}),[l]),{customer:s}=G(Number(r.id)),{mutationDeleteCustomerImage:p}=F(),f=x=>{p({id:r.id,name_image_identify_card:x})};return e.jsxDEV("div",{className:"space-y-6 px-4 py-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between space-y-2",children:e.jsxDEV("h2",{className:"text-3xl font-bold tracking-tight",children:["Customer: ",r.id]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:50,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:49,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-[480px_1fr] gap-8",children:[e.jsxDEV(C,{children:[e.jsxDEV(T,{children:e.jsxDEV(P,{children:"Customer"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:57,columnNumber:13},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:56,columnNumber:11},this),e.jsxDEV(k,{children:e.jsxDEV("div",{className:"grid grid-cols-[100px_1fr] items-center gap-4",children:[e.jsxDEV(t,{className:"text-muted-foreground",children:"Customer ID"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:61,columnNumber:15},this),e.jsxDEV(n,{children:s==null?void 0:s.id},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:62,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"Full name"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:64,columnNumber:15},this),e.jsxDEV(n,{children:s==null?void 0:s.full_name},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:65,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"Active"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:67,columnNumber:15},this),e.jsxDEV(n,{children:V(s==null?void 0:s.is_active)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:68,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"Phone number"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:70,columnNumber:15},this),e.jsxDEV(n,{children:s==null?void 0:s.phonenumber},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:71,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"UUID"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:73,columnNumber:15},this),e.jsxDEV(n,{children:s==null?void 0:s.uuid_id},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:74,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"Last update"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:76,columnNumber:15},this),e.jsxDEV(n,{children:s==null?void 0:s.last_update},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:77,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"Created time"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:79,columnNumber:15},this),e.jsxDEV(n,{children:s==null?void 0:s.time_insert},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:80,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:60,columnNumber:13},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:59,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:55,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:e.jsxDEV(j,{data:s==null?void 0:s.list_customer_creditcard,columns:b,columnVisibility:a,rowCount:(m=s==null?void 0:s.list_customer_creditcard)==null?void 0:m.length,onColumnVisibilityChange:N,hidePagination:!0},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:85,columnNumber:11},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:84,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:54,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(t,{children:"Customer Images:"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:96,columnNumber:9},this),e.jsxDEV(S,{onDelete:i()?f:void 0,getName:K,images:(c=s==null?void 0:s.images_identify_card)==null?void 0:c.map(A)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:97,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:95,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:48,columnNumber:5},this)}function $(){return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(_,{children:e.jsxDEV("title",{children:"POS System - Customer Detail"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/pages/customer-detail.page.tsx",lineNumber:8,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/pages/customer-detail.page.tsx",lineNumber:7,columnNumber:7},this),e.jsxDEV(O,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/pages/customer-detail.page.tsx",lineNumber:10,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/pages/customer-detail.page.tsx",lineNumber:6,columnNumber:5},this)}export{$ as default};
