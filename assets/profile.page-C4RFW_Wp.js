import{u as b,j as e,aa as m,ab as o,ac as c,ad as d,B as N,ae as h,P as g,a5 as x}from"./index-DjsK4lwM.js";import{g as w,a as P}from"./get-status.util-DC1d3cyY.js";import{z as l,u as y,t as v,I as u,F as n}from"./index-BG7ojNLD.js";function E(){const{auth:s,getAuthInfo:r}=b(),a=r();return e.jsxDEV(m,{children:[e.jsxDEV(o,{children:e.jsxDEV(c,{className:"font-medium",children:"Your Profile"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:13,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:12,columnNumber:7},this),e.jsxDEV(d,{className:"grid grid-cols-[100px_1fr_100px_1fr] gap-4",children:[e.jsxDEV("label",{className:"font-bold",children:"ID"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:16,columnNumber:9},this),e.jsxDEV("span",{children:s==null?void 0:s.id},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:17,columnNumber:9},this),e.jsxDEV("label",{className:"font-bold",children:"Public ID"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:18,columnNumber:9},this),e.jsxDEV("span",{className:"truncate",children:s==null?void 0:s.public_id},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:19,columnNumber:9},this),e.jsxDEV("label",{className:"font-bold",children:"Username"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:20,columnNumber:9},this),e.jsxDEV("span",{children:s==null?void 0:s.username},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:21,columnNumber:9},this),e.jsxDEV("label",{className:"font-bold",children:"Full name"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:22,columnNumber:9},this),e.jsxDEV("span",{children:s==null?void 0:s.full_name},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:23,columnNumber:9},this),e.jsxDEV("label",{className:"font-bold",children:"Role"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:24,columnNumber:9},this),e.jsxDEV("span",{children:w(a!=null&&a.is_administrator?2:1)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:25,columnNumber:9},this),e.jsxDEV("label",{className:"font-bold",children:"Status"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:26,columnNumber:9},this),e.jsxDEV("span",{children:P(!!(s!=null&&s.status))},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:27,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:15,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:11,columnNumber:5},this)}function U(s){return N({method:"post",url:"/user/ChangePassword",data:s})}function j(){const{mutateAsync:s}=h({mutationFn:U});return{mutationChangePassword:s}}const D=l.object({username:l.string().nonempty(),old_password:l.string().nonempty(),new_password:l.string().nonempty(),re_new_password:l.string().nonempty()}).refine(s=>s.new_password===s.re_new_password,{message:"Passwords don't match",path:["re_new_password"]}).refine(s=>s.new_password!==s.old_password,{message:"The new password must not be the same as the old password",path:["new_password"]});function T(){const{mutationChangePassword:s}=j(),{register:r,handleSubmit:a,reset:t,formState:{errors:i}}=y({resolver:v(D)}),p=async f=>{(await s(f)).status&&t()};return e.jsxDEV("form",{onSubmit:a(p),className:"space-y-4",autoComplete:"off",children:[e.jsxDEV("div",{children:[e.jsxDEV(u,{placeholder:"Username",...r("username")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:38,columnNumber:9},this),e.jsxDEV(n,{error:i.username},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:39,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:37,columnNumber:7},this),e.jsxDEV("div",{children:[e.jsxDEV(u,{type:"password",placeholder:"Old Password",...r("old_password")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:43,columnNumber:9},this),e.jsxDEV(n,{error:i.old_password},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:48,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:42,columnNumber:7},this),e.jsxDEV("div",{children:[e.jsxDEV(u,{type:"password",placeholder:"New Password",...r("new_password")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:51,columnNumber:9},this),e.jsxDEV(n,{error:i.new_password},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:56,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:50,columnNumber:7},this),e.jsxDEV("div",{children:[e.jsxDEV(u,{type:"password",placeholder:"Re-new Password",...r("re_new_password")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:59,columnNumber:9},this),e.jsxDEV(n,{error:i.re_new_password},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:64,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:58,columnNumber:7},this),e.jsxDEV(g,{className:"w-full",children:"Submit"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:66,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:32,columnNumber:5},this)}function k(){return e.jsxDEV(m,{children:[e.jsxDEV(o,{children:e.jsxDEV(c,{className:"font-medium",children:"Change password"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/change-password.feature.tsx",lineNumber:8,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/change-password.feature.tsx",lineNumber:7,columnNumber:7},this),e.jsxDEV(d,{children:e.jsxDEV(T,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/change-password.feature.tsx",lineNumber:11,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/change-password.feature.tsx",lineNumber:10,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/change-password.feature.tsx",lineNumber:6,columnNumber:5},this)}function S(){return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(x,{children:e.jsxDEV("title",{children:"CRM - Profile"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/profile.page.tsx",lineNumber:9,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/profile.page.tsx",lineNumber:8,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxDEV(E,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/profile.page.tsx",lineNumber:12,columnNumber:9},this),e.jsxDEV(k,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/profile.page.tsx",lineNumber:13,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/profile.page.tsx",lineNumber:11,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/profile.page.tsx",lineNumber:7,columnNumber:5},this)}export{S as default};
