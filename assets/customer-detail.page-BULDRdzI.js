import{Q as u,k as x,a as h,u as y,r as o,j as e}from"./index-f2VhjHM4.js";import{H as v}from"./Helmet-DHwxXz5R.js";import{u as D,C as n}from"./cell-text-Cq1oX9CR.js";import{a as d}from"./api-client-CpO0KqWb.js";import{L as t}from"./label-CaHAlyiK.js";import{C as E,a as C,b as U,c as T}from"./card-zFnvhKA4.js";import{g as P}from"./get-yes-no.util-C-N_EnQX.js";import{u as k}from"./use-get-vn-banks.query-SdtvK60F.js";import{D as V}from"./data-table-tXgpZLlk.js";import{c as j,g as _}from"./customer-cc.column-C07xC_xa.js";import{G as I,g as S}from"./get-customer-image-url.util-Dv4i6_0g.js";import{u as B}from"./useMutation-DB8U7zVj.js";import{u as A}from"./use-auth.cache-B9lWy6Ij.js";import{B as M}from"./upload.constant-sHXMtF6P.js";import"./index-M863FL3W.js";import"./index-f796fQww.js";import"./index-CN8LCxPD.js";import"./react-icons.esm-DzWb6zRd.js";import"./dialog-button.component-HLUr6rwj.js";import"./index-BoTVKPcP.js";import"./cell-link-BsPUbX2B.js";import"./index-VWaDGczM.js";function Q(r){return d({url:"/customer_info/get_customer_info_by_id",params:r})}function G(r){var m;const{data:i}=D({queryKey:[...u.CUSTOMER,r],queryFn:()=>Q({id:r}),placeholderData:x,gcTime:1e4});return{customer:(m=i==null?void 0:i.result)==null?void 0:m[0]}}function R(r){return d({method:"delete",url:"/customer_info/delete_image_customer",data:r})}function F(){const{mutateAsync:r}=B({mutationFn:R,onSuccess:i=>{(i.status||i.success)&&h.invalidateQueries({queryKey:u.CUSTOMER})}});return{mutationDeleteCustomerImage:r}}function H(r){return r==null?void 0:r.replace(`https://pos.crawl.vn${M}`,"")}function K(){var l,c;const r=y(),{isAdmin:i}=A(),[m,p]=o.useState(j),{vnBanksByKey:a}=k(),N=o.useMemo(()=>_({vnBanks:a}),[a]),{customer:s}=G(Number(r.id)),{mutationDeleteCustomerImage:b}=F(),f=g=>{b({id:r.id,name_image_identify_card:g})};return e.jsxDEV("div",{className:"space-y-6 px-4 py-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between space-y-2",children:e.jsxDEV("h2",{className:"text-3xl font-bold tracking-tight",children:["Customer: ",r.id]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:50,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:49,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-[480px_1fr] gap-8",children:[e.jsxDEV(E,{children:[e.jsxDEV(C,{children:e.jsxDEV(U,{children:"Customer"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:57,columnNumber:13},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:56,columnNumber:11},this),e.jsxDEV(T,{children:e.jsxDEV("div",{className:"grid grid-cols-[100px_1fr] items-center gap-4",children:[e.jsxDEV(t,{className:"text-muted-foreground",children:"Customer ID"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:61,columnNumber:15},this),e.jsxDEV(n,{children:s==null?void 0:s.id},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:62,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"Full name"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:64,columnNumber:15},this),e.jsxDEV(n,{children:s==null?void 0:s.full_name},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:65,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"Active"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:67,columnNumber:15},this),e.jsxDEV(n,{children:P(s==null?void 0:s.is_active)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:68,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"Phone number"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:70,columnNumber:15},this),e.jsxDEV(n,{children:s==null?void 0:s.phonenumber},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:71,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"UUID"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:73,columnNumber:15},this),e.jsxDEV(n,{children:s==null?void 0:s.uuid_id},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:74,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"Last update"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:76,columnNumber:15},this),e.jsxDEV(n,{children:s==null?void 0:s.last_update},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:77,columnNumber:15},this),e.jsxDEV(t,{className:"text-muted-foreground",children:"Created time"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:79,columnNumber:15},this),e.jsxDEV(n,{children:s==null?void 0:s.time_insert},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:80,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:60,columnNumber:13},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:59,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:55,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:e.jsxDEV(V,{data:s==null?void 0:s.list_customer_creditcard,columns:N,columnVisibility:m,rowCount:(l=s==null?void 0:s.list_customer_creditcard)==null?void 0:l.length,onColumnVisibilityChange:p,hidePagination:!0},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:85,columnNumber:11},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:84,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:54,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(t,{children:"Customer Images:"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:96,columnNumber:9},this),e.jsxDEV(I,{onDelete:i()?f:void 0,getName:H,images:(c=s==null?void 0:s.images_identify_card)==null?void 0:c.map(S)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:97,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:95,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:48,columnNumber:5},this)}function ue(){return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(v,{children:e.jsxDEV("title",{children:"POS System - Customer Detail"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/pages/customer-detail.page.tsx",lineNumber:8,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/pages/customer-detail.page.tsx",lineNumber:7,columnNumber:7},this),e.jsxDEV(K,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/pages/customer-detail.page.tsx",lineNumber:10,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/pages/customer-detail.page.tsx",lineNumber:6,columnNumber:5},this)}export{ue as default};
