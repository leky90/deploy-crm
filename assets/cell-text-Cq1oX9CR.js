var J=(s,t,e)=>{if(!t.has(s))throw TypeError("Cannot "+e)};var r=(s,t,e)=>(J(s,t,"read from private field"),e?e.call(s):t.get(s)),n=(s,t,e)=>{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,e)},o=(s,t,e,i)=>(J(s,t,"write to private field"),i?i.call(s,e):t.set(s,e),e);var l=(s,t,e)=>(J(s,t,"access private method"),e);import{S as Rt,s as X,n as Ct,i as lt,h as dt,t as Ot,l as Et,m as wt,o as ft,p as mt,r as O,q as St,v as Qt,j as It}from"./index-f2VhjHM4.js";import{s as Ft}from"./api-client-CpO0KqWb.js";var b,a,P,p,E,F,v,j,U,x,w,S,C,D,Q,M,L,Y,A,Z,B,$,k,tt,N,et,V,st,W,rt,_,vt,yt,Ut=(yt=class extends Rt{constructor(t,e){super();n(this,Q);n(this,L);n(this,A);n(this,B);n(this,k);n(this,N);n(this,V);n(this,W);n(this,_);n(this,b,void 0);n(this,a,void 0);n(this,P,void 0);n(this,p,void 0);n(this,E,void 0);n(this,F,void 0);n(this,v,void 0);n(this,j,void 0);n(this,U,void 0);n(this,x,void 0);n(this,w,void 0);n(this,S,void 0);n(this,C,void 0);n(this,D,new Set);this.options=e,o(this,b,t),o(this,v,null),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,a).addObserver(this),pt(r(this,a),this.options)?l(this,Q,M).call(this):this.updateResult(),l(this,k,tt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return it(r(this,a),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return it(r(this,a),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,l(this,N,et).call(this),l(this,V,st).call(this),r(this,a).removeObserver(this)}setOptions(t,e){const i=this.options,f=r(this,a);if(this.options=r(this,b).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");l(this,W,rt).call(this),X(this.options,i)||r(this,b).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,a),observer:this});const u=this.hasListeners();u&&bt(r(this,a),f,this.options,i)&&l(this,Q,M).call(this),this.updateResult(e),u&&(r(this,a)!==f||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&l(this,L,Y).call(this);const h=l(this,A,Z).call(this);u&&(r(this,a)!==f||this.options.enabled!==i.enabled||h!==r(this,C))&&l(this,B,$).call(this,h)}getOptimisticResult(t){const e=r(this,b).getQueryCache().build(r(this,b),t),i=this.createResult(e,t);return Dt(this,i)&&(o(this,p,i),o(this,F,this.options),o(this,E,r(this,a).state)),i}getCurrentResult(){return r(this,p)}trackResult(t,e){const i={};return Object.keys(t).forEach(f=>{Object.defineProperty(i,f,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(f),e==null||e(f),t[f])})}),i}trackProp(t){r(this,D).add(t)}getCurrentQuery(){return r(this,a)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=r(this,b).defaultQueryOptions(t),i=r(this,b).getQueryCache().build(r(this,b),e);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,e))}fetch(t){return l(this,Q,M).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,p)))}createResult(t,e){var ct;const i=r(this,a),f=this.options,u=r(this,p),h=r(this,E),d=r(this,F),I=t!==i?t.state:r(this,P),{state:c}=t;let{error:z,errorUpdatedAt:nt,fetchStatus:T,status:R}=c,ht=!1,m;if(e._optimisticResults){const y=this.hasListeners(),G=!y&&pt(t,e),gt=y&&bt(t,i,e,f);(G||gt)&&(T=wt(t.options.networkMode)?"fetching":"paused",c.data===void 0&&(R="pending")),e._optimisticResults==="isRestoring"&&(T="idle")}if(e.select&&c.data!==void 0)if(u&&c.data===(h==null?void 0:h.data)&&e.select===r(this,j))m=r(this,U);else try{o(this,j,e.select),m=e.select(c.data),m=ft(u==null?void 0:u.data,m,e),o(this,U,m),o(this,v,null)}catch(y){o(this,v,y)}else m=c.data;if(e.placeholderData!==void 0&&m===void 0&&R==="pending"){let y;if(u!=null&&u.isPlaceholderData&&e.placeholderData===(d==null?void 0:d.placeholderData))y=u.data;else if(y=typeof e.placeholderData=="function"?e.placeholderData((ct=r(this,x))==null?void 0:ct.state.data,r(this,x)):e.placeholderData,e.select&&y!==void 0)try{y=e.select(y),o(this,v,null)}catch(G){o(this,v,G)}y!==void 0&&(R="success",m=ft(u==null?void 0:u.data,y,e),ht=!0)}r(this,v)&&(z=r(this,v),m=r(this,U),nt=Date.now(),R="error");const H=T==="fetching",q=R==="pending",K=R==="error",ot=q&&H,ut=c.data!==void 0;return{status:R,fetchStatus:T,isPending:q,isSuccess:R==="success",isError:K,isInitialLoading:ot,isLoading:ot,data:m,dataUpdatedAt:c.dataUpdatedAt,error:z,errorUpdatedAt:nt,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>I.dataUpdateCount||c.errorUpdateCount>I.errorUpdateCount,isFetching:H,isRefetching:H&&!q,isLoadingError:K&&!ut,isPaused:T==="paused",isPlaceholderData:ht,isRefetchError:K&&ut,isStale:at(t,e),refetch:this.refetch}}updateResult(t){const e=r(this,p),i=this.createResult(r(this,a),this.options);if(o(this,E,r(this,a).state),o(this,F,this.options),r(this,E).data!==void 0&&o(this,x,r(this,a)),X(i,e))return;o(this,p,i);const f={},u=()=>{if(!e)return!0;const{notifyOnChangeProps:h}=this.options,d=typeof h=="function"?h():h;if(d==="all"||!d&&!r(this,D).size)return!0;const g=new Set(d??r(this,D));return this.options.throwOnError&&g.add("error"),Object.keys(r(this,p)).some(I=>{const c=I;return r(this,p)[c]!==e[c]&&g.has(c)})};(t==null?void 0:t.listeners)!==!1&&u()&&(f.listeners=!0),l(this,_,vt).call(this,{...f,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&l(this,k,tt).call(this)}},b=new WeakMap,a=new WeakMap,P=new WeakMap,p=new WeakMap,E=new WeakMap,F=new WeakMap,v=new WeakMap,j=new WeakMap,U=new WeakMap,x=new WeakMap,w=new WeakMap,S=new WeakMap,C=new WeakMap,D=new WeakMap,Q=new WeakSet,M=function(t){l(this,W,rt).call(this);let e=r(this,a).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Ct)),e},L=new WeakSet,Y=function(){if(l(this,N,et).call(this),lt||r(this,p).isStale||!dt(this.options.staleTime))return;const e=Ot(r(this,p).dataUpdatedAt,this.options.staleTime)+1;o(this,w,setTimeout(()=>{r(this,p).isStale||this.updateResult()},e))},A=new WeakSet,Z=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,a)):this.options.refetchInterval)??!1},B=new WeakSet,$=function(t){l(this,V,st).call(this),o(this,C,t),!(lt||this.options.enabled===!1||!dt(r(this,C))||r(this,C)===0)&&o(this,S,setInterval(()=>{(this.options.refetchIntervalInBackground||Et.isFocused())&&l(this,Q,M).call(this)},r(this,C)))},k=new WeakSet,tt=function(){l(this,L,Y).call(this),l(this,B,$).call(this,l(this,A,Z).call(this))},N=new WeakSet,et=function(){r(this,w)&&(clearTimeout(r(this,w)),o(this,w,void 0))},V=new WeakSet,st=function(){r(this,S)&&(clearInterval(r(this,S)),o(this,S,void 0))},W=new WeakSet,rt=function(){const t=r(this,b).getQueryCache().build(r(this,b),this.options);if(t===r(this,a))return;const e=r(this,a);o(this,a,t),o(this,P,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},_=new WeakSet,vt=function(t){mt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(r(this,p))}),r(this,b).getQueryCache().notify({query:r(this,a),type:"observerResultsUpdated"})})},yt);function xt(s,t){return t.enabled!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&t.retryOnMount===!1)}function pt(s,t){return xt(s,t)||s.state.data!==void 0&&it(s,t,t.refetchOnMount)}function it(s,t,e){if(t.enabled!==!1){const i=typeof e=="function"?e(s):e;return i==="always"||i!==!1&&at(s,t)}return!1}function bt(s,t,e,i){return e.enabled!==!1&&(s!==t||i.enabled===!1)&&(!e.suspense||s.state.status!=="error")&&at(s,e)}function at(s,t){return s.isStaleByTime(t.staleTime)}function Dt(s,t){return!X(s.getCurrentResult(),t)}function Tt(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var Mt=O.createContext(Tt()),Pt=()=>O.useContext(Mt),jt=(s,t)=>{(s.suspense||s.throwOnError)&&(t.isReset()||(s.retryOnMount=!1))},Lt=s=>{O.useEffect(()=>{s.clearReset()},[s])},At=({result:s,errorResetBoundary:t,throwOnError:e,query:i})=>s.isError&&!t.isReset()&&!s.isFetching&&i&&Ft(e,[s.error,i]),Bt=s=>{s.suspense&&typeof s.staleTime!="number"&&(s.staleTime=1e3)},kt=(s,t)=>(s==null?void 0:s.suspense)&&t.isPending,Nt=(s,t,e)=>t.fetchOptimistic(s).catch(()=>{e.clearReset()});function Vt(s,t,e){if(typeof s!="object"||Array.isArray(s))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');const i=St(e),f=Qt(),u=Pt(),h=i.defaultQueryOptions(s);h._optimisticResults=f?"isRestoring":"optimistic",Bt(h),jt(h,u),Lt(u);const[d]=O.useState(()=>new t(i,h)),g=d.getOptimisticResult(h);if(O.useSyncExternalStore(O.useCallback(I=>{const c=f?()=>{}:d.subscribe(mt.batchCalls(I));return d.updateResult(),c},[d,f]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),O.useEffect(()=>{d.setOptions(h,{listeners:!1})},[h,d]),kt(h,g))throw Nt(h,d,u);if(At({result:g,errorResetBoundary:u,throwOnError:h.throwOnError,query:i.getQueryCache().get(h.queryHash)}))throw g.error;return h.notifyOnChangeProps?g:d.trackResult(g)}function qt(s,t){return Vt(s,Ut,t)}function Kt({children:s}){return It.jsxDEV("div",{className:"truncate",children:s||"-"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/components/cell-text.tsx",lineNumber:6,columnNumber:10},this)}export{Kt as C,qt as u};
