import{a as b,Q as f,b as x,r as g,j as e}from"./index-CJ4aojTS.js";import{a as h,H as y}from"./Helmet-CQJxFuV9.js";import{u as v}from"./use-get-customer-by-id.query-CQHJuMHN.js";import{L as s}from"./label-DHIBfv39.js";import{C as t}from"./cell-text-CM1Jten_.js";import{C as D,a as E,b as C,c as U}from"./card-DKsQ3IgN.js";import{g as P}from"./get-yes-no.util-C-N_EnQX.js";import{u as T}from"./use-get-vn-banks.query-BlDHlsht.js";import{u as V,D as k}from"./index-BmIi7Ov-.js";import{c as j,g as _}from"./customer-cc.column-CMyPfnx7.js";import{g as I}from"./get-customer-image-url.util-dqnr5XYm.js";import{G as S}from"./grid-images-cAF_f7ro.js";import{u as A}from"./useMutation-5gSZwTnf.js";import{u as B}from"./use-auth.cache--d25v-3P.js";import{B as M}from"./upload.constant-D3d5R5uO.js";import"./useQuery-DY6s3jgh.js";import"./button-C7e1d5xZ.js";import"./index-CmOA9PUo.js";import"./Combination-BfeDkqor.js";import"./index-BpO2Y5GS.js";import"./react-icons.esm-DY0tv6xu.js";import"./select-CRLuTXUs.js";import"./dropdown-menu-BEcUP2XE.js";import"./index-B3aP1jZr.js";import"./index-CBzUkH_N.js";import"./dialog-button.component-Ztd2_n_g.js";import"./dialog-CRrJ1IH6.js";import"./index-dwtWVcVM.js";import"./customer-cc.form-D3wxxF0J.js";import"./index-D8SDuPEw.js";import"./input-8Nyj8SBJ.js";import"./vn-bank.field-BdRWlDhX.js";import"./popover-CaKhNzu_.js";import"./use-get-customers.query-BGm66KQH.js";import"./customer-info.feature-BHwJ7SVg.js";import"./alert-dialog-xGKsAhOS.js";function Q(i){return h({method:"delete",url:"/customer_info/delete_image_customer",data:i})}function G(){const{mutateAsync:i}=A({mutationFn:Q,onSuccess:m=>{(m.status||m.success)&&b.invalidateQueries({queryKey:f.CUSTOMER})}});return{mutationDeleteCustomerImage:i}}function w(i){return i==null?void 0:i.replace(`https://pos.crawl.vn${M}`,"")}function H(){var l,a;const i=x(),{isAdmin:m}=B(),[o,c]=V("detail-customer-cc-columns",{defaultValue:j}),{vnBanksByKey:n}=T(),u=g.useMemo(()=>_({vnBanks:n}),[n]),{customer:r}=v(Number(i.id)),{mutationDeleteCustomerImage:d}=G(),p=N=>{d({id:i.id,name_image_identify_card:N})};return e.jsxDEV("div",{className:"space-y-6 px-4 py-4",children:[e.jsxDEV("div",{className:"flex items-center flex-col lg:flex-row justify-between space-y-2",children:e.jsxDEV("h2",{className:"text-2xl lg:text-3xl font-bold tracking-tight",children:["Customer: ",i.id]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:54,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:53,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(max-content,480px)_1fr] gap-8",children:[e.jsxDEV(D,{children:[e.jsxDEV(E,{children:e.jsxDEV(C,{children:"Customer"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:61,columnNumber:13},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:60,columnNumber:11},this),e.jsxDEV(U,{children:e.jsxDEV("div",{className:"grid lg:grid-cols-[100px_1fr] items-center gap-4",children:[e.jsxDEV(s,{className:"text-muted-foreground",children:"Customer ID"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:65,columnNumber:15},this),e.jsxDEV(t,{children:r==null?void 0:r.id},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:66,columnNumber:15},this),e.jsxDEV(s,{className:"text-muted-foreground",children:"Full name"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:68,columnNumber:15},this),e.jsxDEV(t,{children:r==null?void 0:r.full_name},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:69,columnNumber:15},this),e.jsxDEV(s,{className:"text-muted-foreground",children:"Active"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:71,columnNumber:15},this),e.jsxDEV(t,{children:P(r==null?void 0:r.is_active)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:72,columnNumber:15},this),e.jsxDEV(s,{className:"text-muted-foreground",children:"Phone number"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:74,columnNumber:15},this),e.jsxDEV(t,{children:r==null?void 0:r.phonenumber},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:75,columnNumber:15},this),e.jsxDEV(s,{className:"text-muted-foreground",children:"UUID"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:77,columnNumber:15},this),e.jsxDEV(t,{children:r==null?void 0:r.uuid_id},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:78,columnNumber:15},this),e.jsxDEV(s,{className:"text-muted-foreground",children:"Last update"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:80,columnNumber:15},this),e.jsxDEV(t,{children:r==null?void 0:r.last_update},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:81,columnNumber:15},this),e.jsxDEV(s,{className:"text-muted-foreground",children:"Created time"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:83,columnNumber:15},this),e.jsxDEV(t,{children:r==null?void 0:r.time_insert},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:84,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:64,columnNumber:13},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:63,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:59,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-2",children:e.jsxDEV(k,{data:r==null?void 0:r.list_customer_creditcard,columns:u,columnVisibility:o,rowCount:(l=r==null?void 0:r.list_customer_creditcard)==null?void 0:l.length,onColumnVisibilityChange:c,hidePagination:!0},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:89,columnNumber:11},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:88,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:58,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(s,{children:"Customer Images:"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:102,columnNumber:9},this),e.jsxDEV(S,{onDelete:m()?p:void 0,getName:w,images:(a=r==null?void 0:r.images_identify_card)==null?void 0:a.map(I)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:103,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:101,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/containers/customer-detail.container.tsx",lineNumber:52,columnNumber:5},this)}function Ee(){return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(y,{children:e.jsxDEV("title",{children:"POS System - Customer Detail"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/pages/customer-detail.page.tsx",lineNumber:8,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/pages/customer-detail.page.tsx",lineNumber:7,columnNumber:7},this),e.jsxDEV(H,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/pages/customer-detail.page.tsx",lineNumber:10,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/customer/pages/customer-detail.page.tsx",lineNumber:6,columnNumber:5},this)}export{Ee as default};
