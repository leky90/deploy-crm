import{j as s,a as d,Q as p,e as x,R as j}from"./index-XwE6gQmn.js";import{C as h,a as f,b as S,c as g}from"./card-BA5oHXKG.js";import{z as n,u as I,t as y,F as o}from"./index-MxbznExh.js";import{B as w}from"./button-C4HOWXLM.js";import{I as i}from"./input-BFqvYdSA.js";import{u as C}from"./useMutation-Czv1wBp1.js";import{a as E,H as F}from"./Helmet-DUuvCvTm.js";import{L as m}from"./label-DhoCOihp.js";function N({children:e}){return s.jsx("div",{className:"h-screen flex justify-center items-center",children:s.jsx("main",{children:e})})}function R(e){return E({url:"/user/login",method:"post",data:e})}function b(){const{mutateAsync:e}=C({mutationFn:R,onSuccess:r=>(d.setQueryData(p.AUTH_INFO,()=>r),r)});return{mutationSignIn:e}}const v=n.object({username:n.string().nonempty(),password:n.string().nonempty()});function U(){const e=x(),{mutationSignIn:r}=b(),{register:t,handleSubmit:u,formState:{errors:a}}=I({resolver:y(v)}),c=async l=>{(await r(l)).status&&e(j.CUSTOMER_HISTORIES)};return s.jsxs("form",{onSubmit:u(c),className:"space-y-4 w-80",autoComplete:"off",children:[s.jsxs("div",{children:[s.jsx(m,{htmlFor:"username",children:"Username"}),s.jsx(i,{placeholder:"Username",...t("username")}),s.jsx(o,{error:a.username})]}),s.jsxs("div",{children:[s.jsx(m,{htmlFor:"password",children:"Password"}),s.jsx(i,{type:"password",placeholder:"Password",...t("password")}),s.jsx(o,{error:a.password})]}),s.jsx(w,{className:"w-full",children:"Submit"})]})}function H(){return s.jsxs(s.Fragment,{children:[s.jsx(F,{children:s.jsx("title",{children:"POS System - Sign In"})}),s.jsxs(h,{children:[s.jsx(f,{children:s.jsx(S,{className:"text-center",children:"SIGN IN"})}),s.jsx(g,{children:s.jsx(U,{})})]})]})}function Y(){return s.jsx(N,{children:s.jsx(H,{})})}export{Y as default};
