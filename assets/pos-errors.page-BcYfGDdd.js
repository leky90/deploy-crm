import{j as r,a as h,Q as N,r as p,k as U}from"./index-CahGm5j_.js";import{H as j}from"./Helmet-MPtnhWTN.js";import{D as k}from"./data-table-1VeMLfGn.js";import{C as a}from"./cell-text-CSKwiuIS.js";import{D as E,a as P}from"./dialog-button.component-LaUP1v6C.js";import{B as d,a as g}from"./api-client-xdfXcPMj.js";import{d as T,P as _}from"./react-icons.esm-CgNybiV9.js";import{z as n,u as V,t as S,F as c}from"./index-CtQVcejk.js";import{I as f}from"./input-CTzyRLBi.js";import{S as C,a as O,b as R,c as F,d as I}from"./select-DPq_C0dD.js";import{L as t}from"./label-DoOzxWxM.js";import{R as x}from"./role.component-DcEwGfK5.js";import{u as y}from"./useMutation-Cc8ioY74.js";import{g as K}from"./get-yes-no.util-C-N_EnQX.js";import{u as M}from"./useQuery-stpcfKAy.js";import"./index-Bjcf43BG.js";import"./index-Bb0nBYka.js";import"./index-CInXBU6o.js";import"./dropdown-menu-C4SF8l9N.js";import"./use-auth.cache-C3R7XWlF.js";import"./index-VWaDGczM.js";const w=n.object({id:n.coerce.number().optional(),active:n.coerce.number(),note:n.coerce.string(),pos_error_code:n.coerce.string(),pos_error_message_en:n.coerce.string(),pos_error_message_vi:n.coerce.string()});function v({defaultValues:e,mutation:o,onClose:l}){const{register:s,handleSubmit:i,formState:{errors:m}}=V({defaultValues:e,resolver:S(w)}),D=async u=>{(await o(u)).status&&l&&l()};return r.jsxDEV("form",{onSubmit:i(D),className:"space-y-4",autoComplete:"off",children:[r.jsxDEV("div",{children:[r.jsxDEV(t,{htmlFor:"pos_error_code",children:"POS Error Code"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:50,columnNumber:9},this),r.jsxDEV(f,{placeholder:"POS Error Code",...s("pos_error_code")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:51,columnNumber:9},this),r.jsxDEV(c,{error:m.pos_error_code},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:52,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:49,columnNumber:7},this),r.jsxDEV("div",{children:[r.jsxDEV(t,{htmlFor:"pos_error_message_en",children:"POS Error Message (EN)"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:56,columnNumber:9},this),r.jsxDEV(f,{placeholder:"POS Error Message (EN)",...s("pos_error_message_en")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:57,columnNumber:9},this),r.jsxDEV(c,{error:m.pos_error_message_en},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:61,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:55,columnNumber:7},this),r.jsxDEV("div",{children:[r.jsxDEV(t,{htmlFor:"pos_error_message_vi",children:"POS Error Message (VI)"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:65,columnNumber:9},this),r.jsxDEV(f,{placeholder:"POS Error Message (VI)",...s("pos_error_message_vi")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:66,columnNumber:9},this),r.jsxDEV(c,{error:m.pos_error_message_vi},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:70,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:64,columnNumber:7},this),r.jsxDEV("div",{children:[r.jsxDEV(t,{htmlFor:"note",children:"Note"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:74,columnNumber:9},this),r.jsxDEV(f,{placeholder:"Note",...s("note")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:75,columnNumber:9},this),r.jsxDEV(c,{error:m.note},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:76,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:73,columnNumber:7},this),r.jsxDEV("div",{children:[r.jsxDEV(t,{htmlFor:"active",children:"Active"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:80,columnNumber:9},this),r.jsxDEV(C,{...s("active"),defaultValue:typeof(e==null?void 0:e.active)>"u"?e==null?void 0:e.active:String(e==null?void 0:e.active),onValueChange:u=>s("active").onChange({target:{name:"active",value:u}}),children:[r.jsxDEV(O,{className:"h-8 w-40",children:r.jsxDEV(R,{placeholder:"Set status"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:95,columnNumber:13},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:94,columnNumber:11},this),r.jsxDEV(F,{children:[{label:"No",value:"0"},{label:"Yes",value:"1"}].map(({label:u,value:b})=>r.jsxDEV(I,{value:b,children:u},b,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:102,columnNumber:15},this))},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:97,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:81,columnNumber:9},this),r.jsxDEV(c,{error:m.active},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:108,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:79,columnNumber:7},this),r.jsxDEV(d,{className:"w-full",children:"Submit"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:111,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/forms/pos-error/pos-error.form.tsx",lineNumber:44,columnNumber:5},this)}function Q(e){return g({method:"patch",url:"/pos_error_code",data:e})}function B(){const{mutateAsync:e}=y({mutationFn:Q,onSuccess:()=>{h.invalidateQueries({queryKey:N.POS_ERRORS})}});return{mutationUpdatePosError:e}}function q({row:e}){const o=p.useRef(null);function l(){var i;(i=o.current)==null||i.click()}const{mutationUpdatePosError:s}=B();return r.jsxDEV(x,{type:"admin",children:r.jsxDEV(E,{title:"Update POS error",className:"w-96",trigger:r.jsxDEV(d,{variant:"outline",size:"icon",children:r.jsxDEV(T,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/features/update-pos-error.feature.tsx",lineNumber:32,columnNumber:13},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/features/update-pos-error.feature.tsx",lineNumber:31,columnNumber:11},this),actionButtons:r.jsxDEV(P,{asChild:!0,children:r.jsxDEV(d,{ref:o,type:"button",variant:"secondary",children:"Close"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/features/update-pos-error.feature.tsx",lineNumber:37,columnNumber:13},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/features/update-pos-error.feature.tsx",lineNumber:36,columnNumber:11},this),children:r.jsxDEV(v,{defaultValues:e.original,onClose:l,mutation:s},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/features/update-pos-error.feature.tsx",lineNumber:43,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/features/update-pos-error.feature.tsx",lineNumber:27,columnNumber:7},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/features/update-pos-error.feature.tsx",lineNumber:26,columnNumber:5},this)}const z={id:!0,active:!0,note:!0,pos_error_code:!0,pos_error_message_en:!0,pos_error_message_vi:!0},A=()=>[{accessorKey:"id",header:"ID",enableHiding:!1,cell:e=>r.jsxDEV(a,{children:e.getValue()},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/columns/pos-error.column.tsx",lineNumber:25,columnNumber:14},void 0)},{accessorKey:"note",header:"Note",cell:e=>r.jsxDEV(a,{children:e.getValue()},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/columns/pos-error.column.tsx",lineNumber:32,columnNumber:14},void 0)},{accessorKey:"active",header:"Active",cell:e=>r.jsxDEV(a,{children:K(e.getValue())},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/columns/pos-error.column.tsx",lineNumber:39,columnNumber:14},void 0)},{accessorKey:"pos_error_code",header:"POS Error Code",cell:e=>r.jsxDEV(a,{children:e.getValue()},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/columns/pos-error.column.tsx",lineNumber:46,columnNumber:14},void 0)},{accessorKey:"pos_error_message_en",header:"Error Message (EN)",cell:e=>r.jsxDEV(a,{children:e.getValue()},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/columns/pos-error.column.tsx",lineNumber:53,columnNumber:14},void 0)},{accessorKey:"pos_error_message_vi",header:"Error Message (VI)",cell:e=>r.jsxDEV(a,{children:e.getValue()},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/columns/pos-error.column.tsx",lineNumber:60,columnNumber:14},void 0)},{id:"actions",enableHiding:!1,cell:({row:e})=>r.jsxDEV(x,{type:"admin",children:r.jsxDEV("div",{className:"space-x-2",children:r.jsxDEV(q,{row:e},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/columns/pos-error.column.tsx",lineNumber:69,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/columns/pos-error.column.tsx",lineNumber:68,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/columns/pos-error.column.tsx",lineNumber:67,columnNumber:7},void 0)}];function H(e){return g({url:"/pos_error_code",params:e})}function Y(e){const o=[e.page,e.page_limit].join("_"),{data:l}=M({queryKey:[...N.POS_ERRORS,o],queryFn:()=>H(e),placeholderData:U,gcTime:1e3*10});return{posErrors:l}}function L(e){return g({method:"post",url:"/pos_error_code",data:e})}function G(){const{mutateAsync:e}=y({mutationFn:L,onSuccess:o=>{o.status&&h.invalidateQueries({queryKey:N.POS_ERRORS})}});return{mutationCreatePosError:e}}function J(){const e=p.useRef(null);function o(){var s;(s=e.current)==null||s.click()}const{mutationCreatePosError:l}=G();return r.jsxDEV(x,{type:"admin",children:r.jsxDEV(E,{title:"Create POS error",className:"w-96",trigger:r.jsxDEV(d,{className:"gap-2",children:[r.jsxDEV(_,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/features/create-pos-error.feature.tsx",lineNumber:26,columnNumber:13},this)," Create POS error"]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/features/create-pos-error.feature.tsx",lineNumber:25,columnNumber:11},this),actionButtons:r.jsxDEV(P,{asChild:!0,children:r.jsxDEV(d,{ref:e,type:"button",variant:"secondary",children:"Close"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/features/create-pos-error.feature.tsx",lineNumber:31,columnNumber:13},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/features/create-pos-error.feature.tsx",lineNumber:30,columnNumber:11},this),children:r.jsxDEV(v,{onClose:o,mutation:l},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/features/create-pos-error.feature.tsx",lineNumber:37,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/features/create-pos-error.feature.tsx",lineNumber:21,columnNumber:7},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/features/create-pos-error.feature.tsx",lineNumber:20,columnNumber:5},this)}function W(){const[e,o]=p.useState({pageIndex:0,pageSize:10}),[l,s]=p.useState(z),{posErrors:i}=Y({page:e.pageIndex+1,page_limit:e.pageSize}),m=p.useMemo(()=>A(),[]);return r.jsxDEV("div",{className:"space-y-6 px-4 py-4",children:[r.jsxDEV("div",{className:"flex items-center justify-between space-y-2",children:[r.jsxDEV("h2",{className:"text-3xl font-bold tracking-tight",children:"POS Errors"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/containers/pos-errors.container.tsx",lineNumber:31,columnNumber:9},this),r.jsxDEV("div",{className:"flex items-center space-x-2",children:r.jsxDEV(J,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/containers/pos-errors.container.tsx",lineNumber:33,columnNumber:11},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/containers/pos-errors.container.tsx",lineNumber:32,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/containers/pos-errors.container.tsx",lineNumber:30,columnNumber:7},this),r.jsxDEV(k,{data:i==null?void 0:i.result,columns:m,columnVisibility:l,rowCount:i==null?void 0:i.total_data,onColumnVisibilityChange:s,pagination:e,onPaginationChange:o},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/containers/pos-errors.container.tsx",lineNumber:37,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/containers/pos-errors.container.tsx",lineNumber:29,columnNumber:5},this)}function xr(){return r.jsxDEV(r.Fragment,{children:[r.jsxDEV(j,{children:r.jsxDEV("title",{children:"POS System - List of POS errors"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/pages/pos-errors.page.tsx",lineNumber:8,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/pages/pos-errors.page.tsx",lineNumber:7,columnNumber:7},this),r.jsxDEV(W,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/pages/pos-errors.page.tsx",lineNumber:10,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/pos/pages/pos-errors.page.tsx",lineNumber:6,columnNumber:5},this)}export{xr as default};
