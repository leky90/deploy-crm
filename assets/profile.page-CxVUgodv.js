import{j as e}from"./index-t7OYz95J.js";import{a as N,H as h}from"./Helmet-BEcAHiBf.js";import{C as n,a as c,b as d,c as t}from"./card-CMa3VLC7.js";import{u as g}from"./use-auth.cache-BeZrLh6E.js";import{g as w,a as x}from"./get-status.util-DC1d3cyY.js";import{z as l,u as P,t as y,F as m}from"./index-aQ3ovYrk.js";import{B as v}from"./button-BYxa0xOq.js";import{I as o}from"./input-BIvqDN2X.js";import{u as U}from"./useMutation-DXxtvDVZ.js";import{L as u}from"./label-lpU_fvmq.js";function E(){const{auth:s,getAuthInfo:r}=g(),a=r();return e.jsxDEV(n,{children:[e.jsxDEV(c,{children:e.jsxDEV(d,{className:"font-medium",children:"Your Profile"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:13,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:12,columnNumber:7},this),e.jsxDEV(t,{className:"grid grid-cols-[100px_1fr] gap-4",children:[e.jsxDEV("label",{className:"font-bold",children:"ID"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:16,columnNumber:9},this),e.jsxDEV("span",{children:s==null?void 0:s.id},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:17,columnNumber:9},this),e.jsxDEV("label",{className:"font-bold",children:"Public ID"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:18,columnNumber:9},this),e.jsxDEV("span",{className:"truncate",children:s==null?void 0:s.public_id},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:19,columnNumber:9},this),e.jsxDEV("label",{className:"font-bold",children:"Username"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:20,columnNumber:9},this),e.jsxDEV("span",{children:s==null?void 0:s.username},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:21,columnNumber:9},this),e.jsxDEV("label",{className:"font-bold",children:"Full name"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:22,columnNumber:9},this),e.jsxDEV("span",{children:s==null?void 0:s.full_name},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:23,columnNumber:9},this),e.jsxDEV("label",{className:"font-bold",children:"Role"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:24,columnNumber:9},this),e.jsxDEV("span",{children:w(a!=null&&a.is_administrator?2:1)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:25,columnNumber:9},this),e.jsxDEV("label",{className:"font-bold",children:"Status"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:26,columnNumber:9},this),e.jsxDEV("span",{children:x(!!(s!=null&&s.status))},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:27,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:15,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/profile.feature.tsx",lineNumber:11,columnNumber:5},this)}function j(s){return N({method:"post",url:"/user/ChangePassword",data:s})}function D(){const{mutateAsync:s}=U({mutationFn:j});return{mutationChangePassword:s}}const T=l.object({username:l.string().nonempty(),old_password:l.string().nonempty(),new_password:l.string().nonempty(),re_new_password:l.string().nonempty()}).refine(s=>s.new_password===s.re_new_password,{message:"Passwords don't match",path:["re_new_password"]}).refine(s=>s.new_password!==s.old_password,{message:"The new password must not be the same as the old password",path:["new_password"]});function k(){const{mutationChangePassword:s}=D(),{register:r,handleSubmit:a,reset:p,formState:{errors:i}}=P({resolver:y(T)}),f=async b=>{(await s(b)).status&&p()};return e.jsxDEV("form",{onSubmit:a(f),className:"space-y-4",autoComplete:"off",children:[e.jsxDEV("div",{children:[e.jsxDEV(u,{htmlFor:"username",children:"Username"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:39,columnNumber:9},this),e.jsxDEV(o,{placeholder:"Username",...r("username")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:40,columnNumber:9},this),e.jsxDEV(m,{error:i.username},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:41,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:38,columnNumber:7},this),e.jsxDEV("div",{children:[e.jsxDEV(u,{htmlFor:"old_password",children:"Old Password"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:45,columnNumber:9},this),e.jsxDEV(o,{type:"password",placeholder:"Old Password",...r("old_password")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:46,columnNumber:9},this),e.jsxDEV(m,{error:i.old_password},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:51,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:44,columnNumber:7},this),e.jsxDEV("div",{children:[e.jsxDEV(u,{htmlFor:"new_password",children:"New Password"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:54,columnNumber:9},this),e.jsxDEV(o,{type:"password",placeholder:"New Password",...r("new_password")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:55,columnNumber:9},this),e.jsxDEV(m,{error:i.new_password},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:60,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:53,columnNumber:7},this),e.jsxDEV("div",{children:[e.jsxDEV(u,{htmlFor:"re_new_password",children:"Re-new Password"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:63,columnNumber:9},this),e.jsxDEV(o,{type:"password",placeholder:"Re-new Password",...r("re_new_password")},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:64,columnNumber:9},this),e.jsxDEV(m,{error:i.re_new_password},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:69,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:62,columnNumber:7},this),e.jsxDEV(v,{className:"w-full",children:"Submit"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:71,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/forms/change-password/change-password.form.tsx",lineNumber:33,columnNumber:5},this)}function V(){return e.jsxDEV(n,{children:[e.jsxDEV(c,{children:e.jsxDEV(d,{className:"font-medium",children:"Change password"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/change-password.feature.tsx",lineNumber:8,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/change-password.feature.tsx",lineNumber:7,columnNumber:7},this),e.jsxDEV(t,{children:e.jsxDEV(k,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/change-password.feature.tsx",lineNumber:11,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/change-password.feature.tsx",lineNumber:10,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/features/change-password.feature.tsx",lineNumber:6,columnNumber:5},this)}function L(){return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(h,{children:e.jsxDEV("title",{children:"POS System - Profile"},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/profile.page.tsx",lineNumber:9,columnNumber:9},this)},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/profile.page.tsx",lineNumber:8,columnNumber:7},this),e.jsxDEV("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxDEV(E,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/profile.page.tsx",lineNumber:12,columnNumber:9},this),e.jsxDEV(V,{},void 0,!1,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/profile.page.tsx",lineNumber:13,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/profile.page.tsx",lineNumber:11,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/ldky90/Public/Training/crm/src/app/modules/user/pages/profile.page.tsx",lineNumber:7,columnNumber:5},this)}export{L as default};
